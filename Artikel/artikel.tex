%%%% ijcai11.tex

\typeout{IJCAI-11 Instructions for Authors}

% These are the instructions for authors for IJCAI-11.
% They are the same as the ones for IJCAI-07 with superficical wording
%   changes only.

\documentclass[a4paper]{artikel3}
% The file ijcai11.sty is the style file for IJCAI-11 (same as ijcai07.sty).
\usepackage{ijcai11}

% Use the postscript times font!
\usepackage{times}


% the following package is optional:
%\usepackage{latexsym} 

%%%%%%%%%%%%%% CUSTOM BEGIN %%%%%%%%%%%%%%

% remove if not a draft
\usepackage{draftwatermark}
\SetWatermarkColor[rgb]{0.94,0.94,0.94}

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[colorlinks]{hyperref}
\usepackage{multirow}
\usepackage{pgfplotstable} %nodig voor CSV to Latex
\usepackage{booktabs} % voor layout comparisontable

%\usepackage[hyphens]{url}


% captions
\usepackage{caption} 
\captionsetup{margin=10pt,font=small,labelfont=bf}

% engelse term die we niet vertalen naar het nederlands
\newcommand{\term}[1]{\emph{#1}}

% code commande
\newcommand{\code}[1]{\texttt{#1}}

% zodat we niet http:// staan hebben in onze tekst, maar de link wel werkt
\newcommand{\exturl}[1]{\href{http://#1}{#1}}
\renewcommand{\url}[1]{\href{#1}{#1}}


% paragraphs anders te feel white space
\usepackage{setspace}
\newcommand{\setspace}[0]{\vspace{2mm}}
\renewcommand{\paragraph}[1]{\setspace \noindent {\bf #1}  }
\newcommand{\framework}[2]{ \emph{#1 (\textbf{#2}): }} %enkel in usage stukje om framework in te leiden

\newcommand{\challenge}[1]{\paragraph{#1}}

\include{prelude/namen}
\include{prelude/apparaten}
\include{prelude/uitdagingen}

%%%%%%%%%%%%%% CUSTOM END %%%%%%%%%%%%%%

% Following comment is from ijcai97-submit.tex:
% The preparation of these files was supported by Schlumberger Palo Alto
% Research, AT\&T Bell Laboratories, and Morgan Kaufmann Publishers.
% Shirley Jowell, of Morgan Kaufmann Publishers, and Peter F.
% Patel-Schneider, of AT\&T Bell Laboratories collaborated on their
% preparation.

% These instructions can be modified and used in other conferences as long
% as credit to the authors and supporting agencies is retained, this notice
% is not changed, and further modification or reuse is not restricted.
% Neither Shirley Jowell nor Peter F. Patel-Schneider can be listed as
% contacts for providing assistance without their prior permission.

% To use for other conferences, change references to files and the
% conference appropriate and use other authors, contacts, publishers, and
% organizations.
% Also change the deadline and address for returning papers and the length and
% page charge instructions.
% Put where the files are available in the appropriate places.

\title{Comparative study of frameworks for \\ the development of mobile HTML5 applications}
\author{Tim Ameye \\ tim.ameye@student.kuleuven.be \And Sander Van Loock \\ sander.vanloock1@student.kuleuven.be}
\begin{document}

\maketitle

\begin{abstract}
Mobile devices are everywhere and the need to make mobile applications that run on every device is ever-growing.
One solution is to build mobile HTML5 applications.
They run inside the browser and run on every device.
To speed up development, different frameworks exist that help in functionality and building a user interface.
Because of the variety of existing frameworks, a thoroughly comparison is needed to know which framework suits the job best.
This paper compares jQuery Mobile and \st{} by using community and usage as criteria.
%This paper compares jQuery Mobile and Sencha Touch by using community, productivity, usage, support and performance as criteria.
\end{abstract}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Introduction} % (1 blz)
\label{sec:introduction}
The mobile landscape is very heterogeneous and making mobile applications can therefore be a challenging task.
To illustrate this, we start by exploring the variety of mobile devices.
Under the hood of these devices, we briefly look at the mobile operating systems that run on them. 
We next explore the ways to make mobile applications.
Because of the emphasis on mobile HTML5 applications, we finally look at the mobile browsers and the three building blocks of such applications: HTML5, CSS3 and JavaScript.

\subsection{Mobile devices}
Since the release of the Apple iPhone in 2007~\cite{David2011}, the demand for smartphones is ever since increasing. 
Today, over one billion smartphones are in use globally~\cite{Yang2012}.
This will double by 2015~\cite{Gillett2012}.
Not only smartphones, but also tablets conquer market share as mobile devices.
\cite{Gillett2012} states that 760 million tablets will be in use globally by 2016.
Not only Apple is producing mobile devices.
Other companies like Google and Microsoft are on the track too.

All those mobile devices come in different shapes and sizes.
They also include different features like GPS, camera and connectivity like Bluetooth, WiFi and 3G.

\subsection{Mobile operating systems}
In this section two mobile operating systems (OS) with the greatest market share are discussed: iOS and Android with 14.9\% and 75.0\% respectively in Q3 of 2012~\cite{Protalinski2012}.
These mobile OSs run both on smartphones and tablets.

The mobile OS from Apple, called iOS, first appeared in 2007.
Since then, a new version was released every year with the most recent version being iOS~6.1 which was released in January~2013~\cite{Deitel2012,PhilDutson2012,Apple2013}.

In 2005, Google bought Android Inc. and released its first stable mobile OS, called Android, in 2008~\cite{Satyesh2012}.
Like with iOS, new versions were released on a yearly basis.
Android~4.2 is the latest version and was released in October 2012~\cite{Sawers2012}.

It is important to look at the market share of the different versions, which is shown in table~\ref{table:mos-versions}.
This is because not every user has (updated to) the latest version on his mobile device.
The table shows that more than three-quarter of iOS users has already version iOS~6.x.
In contrast, half of Android users is still using Android~2.x while the latest version is Android~4.x. 
Those users can't benefit of the latest bells and whistles, particularly of HMTL5, on their devices.

\begin{table}[t]
\centering
\pgfplotstabletypeset[
  begin table=\begin{tabular}{l l},
  end table=\end{tabular},
  col sep=comma,
  header=true,
  string type,
  skip coltypes=true,
  columns={Versie,Marktaandeel},
  columns/Versie/.style={column name=\textbf{iOS}},  
  columns/Marktaandeel/.style={column name=\textbf{Share (\%)}},
  every head row/.style={
    before row=\toprule,
    after row=\midrule},
  every last row/.style={
    after row=\bottomrule}
]{../Masterproef/tabellen/ios.csv}
\quad
\pgfplotstabletypeset[
  begin table=\begin{tabular}{l l},
  end table=\end{tabular},
  col sep=comma,
  header=true,
  string type,
  skip coltypes=true,
  columns={Versie,Marktaandeel},
  columns/Versie/.style={column name=\textbf{Android}},  
  columns/Marktaandeel/.style={column name=\textbf{Share (\%)}},
  every head row/.style={
    before row=\toprule,
    after row=\midrule},
  every last row/.style={
    after row=\bottomrule}
]{../Masterproef/tabellen/android.csv}
\caption{Market share of iOS versions on February 14, 2013 and Android versions on April 2, 2013 \protect\cite{Sylvain2013,Android2013}.}
\label{table:mos-versions}
\end{table}

\subsection{Mobile applications}
There are three possible ways to make a mobile application~\cite{Accenture2012,Hales2012}.
The first one is a \emph{HTML5 application} which runs entirely in the browser.
The second type of application is a \emph{native application} which is installed on the device and programmed in a language specific to the mobile OS.
Lastly, a mix of both can be made which is called a \emph{hybrid application} where the HTML5 application is packed as a native application.

Advantages~\cite{Accenture2012} of HTML5 applications are the presence of a browser on mobile devices, so everyone can use it directly without installing the app first and regardless of their mobile OS.
Secondly, the code needs only to be written once and can be run anywhere (WORA)~\cite{Hales2012}.
This is in contrast to native, were a codebase has to be maintained for every mobile OS.
Lastly, HTML5 applications do not need to be verified by a store (like the App Store for iOS applications) prior to release.

In contrast, native applications provide~\cite{Accenture2012} better performance.
Secondly, it is easier to use features of the mobile device (like GPS and camera) on a native application.
Thirdly is a security issue were HTML5 applications lack behind.
Lastly, publishing applications through a store increases publicity.

The advantage of hybrid applications is that they patch the issues of HTML5 applications with the benefits of native applications.
However, as of December 2012, HTML5 went into candidate recommendation~\cite{Jacobs2012}.
This implies the upcoming support of HTML5 in contemporary browsers and that hybrid applications will probably become obsolete over time.

\subsection{Mobile browsers}
As of 2008, we speak of the mobile web~\cite{Hales2012}.
We access the Internet more and more from our browser on our mobile device.
These browsers are becoming platforms on their own as they give access to the features of the device like GPS and camera. 
We explore three mobile browsers with the largest market share, as can be seen in table~\ref{table:mobile-browsers}.

\begin{table}
\centering
\begin{tabular}[b]{l r@{.}l}
\toprule
\textbf{Mobile browser} & \multicolumn{2}{c}{\textbf{Share (\%)}} \\
\midrule
Mobile Safari		& 61 	& 02	 	\\
Android browser		& 18 	& 30 	\\
Opera Mini			& 9 		& 84 	\\
Chrome				& 2		& 02 	\\
Other				& 8		& 82		\\
\bottomrule
\end{tabular}
\caption{Market share of mobile  browsers on January 2013~\protect\cite{NetApplications2012}.}
\label{table:mobile-browsers}
\end{table}

The mobile browser from Apple shipped with iOS is called Mobile Safari.
Apple did make sure to catch up with the latest HTML5 specifications in its browser~\cite{Hales2012}.
This was also because of the dropped support for Flash on their mobile devices~\cite{Jobs2010}.

Android comes with the Android browser.
The implementation of HTML5 specifications has dragged, but as of Android 4.0, this is a lot better~\cite{Hales2012}.
It is now also possible to install the mobile version of the Chrome desktop browser on devices with Android 4.0 and later.

The second runner-up is Opera Mini.
It is a mobile browser where the browser engine is located on the servers of Opera.
This means that the requested web page is not processed on the device itself.
In contrast, Opera Mobile includes the browser engine.

\subsection{HTML5, CSS3 and JavaScript}
The tree building blocks of (mobile) HTML5 (application) development are HTML5, CSS3 and JavaScript.
The first is responsible for content, the second for presentation and the third for functionality. 

HTML5 (HyperText Markup Language) has came a long way since 2004 and is still not finished~\cite{MacDonald2011}.
We can see HTML5 as eight classes \cite{W3C2012}: (1) semantics, (2) offline and storage, (3) device access, (4) connectivity, (5) multimedia, (6) 3D, graphics and effects, (7) performance and integration and (8) CSS3.
Not all classes like CSS3 and geolocation are part of the HTML5 specification, but they are seen as HTML5 features~\cite{MacDonald2011}.
Not all specifications of HTML5 are implemented in each browser, which makes it very challenging.

CSS3 (Cascading Style Sheets) is the hart of web design.
Some of the important characteristics~\cite{MacDonald2011} are media queries which can be used to adapt the layout to the device, called responsive design.
Secondly, it is possible the achieve transitions without the use of JavaScript.
Lastly custom fonts can be included and used throughout the web page.

JavaScript started in 1995 and is now mostly used to do DOM (Document Object Model) traversal and adaption~\cite{PhilDutson2012}.
The DOM is an API (Application Programming Interface) for HTML documents~\cite{Hegaret2004}.
Because of the differences in implementation, JavaScript libraries like jQuery are used to ease implementation.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Comparison criteria} %Sander 0.75 pg
\label{sec:comparisoncriteria}

Our comparison strategy tries to combine the above elements.  
We derived five important criteria:  community,  productivity,  usage,  support and performance. 
The POC will drive all but first criteria.   
A methodology that results in a score for each criterion will be described below.  
These scores will be plotted in a spider graph~\cite{Few2005}.   
To be complete,  a full detailed table will be provided where the significant difference of the frameworks will be presented. 	

\paragraph{Community}
Social networks provide a good indication to determine the community that goes with the framework.  
\cite{Sarrafi2012a,Ayuso2012} use Twitter followers,  Stack Overflow questions,  GitHub stars and GitHub forkers as community indication.  
We also include Facebook likes.  The summation of these five numbers give the score for the framework community.  

\paragraph{Productivity}
We both implement the full POC in a different framework and carefully record the time to implement it.  
As we both start with a similar background,  time differences can explain different learning curves.  
To double check this criterion,  we also partially implement the POC in the other's framework.  
The partial implementation is the POC's login, just like~\cite{Burris}.   
The time to implement the POC and the login screen give the score for the framework's productivity.  

\paragraph{Usage}
The POC will be subdivided in a number of implementation challenges.  
The score of this criterion will depend on the completion of the challenges by the framework.  
The assessment of the challenges can be found in table~\ref{table:challenges-scores}.  
The total of all challenges give the score for the framework's usage.

\begin{table}[h]	
\centering
\begin{tabular}{ll}
\toprule
\textbf{Score} & \textbf{Assessment criteria}\\
\midrule
2 & Supported by the framework\\
1 & A plugin is needed\\
0 & Custom implementation or hack\\
\bottomrule
\end{tabular}
\caption{Assessment criteria for implementation challenges.}
\label{table:challenges-scores}
\end{table}


\paragraph{Support}
This criterion indicates the correct functionality of the POC implementation on different devices and browsers,  similar as the cross-platform capabilities of~\cite{Sarrafi2012a}.  
In each context,  we will walk through a scenario and rate the execution.  
If some parts of the scenario are infeasible,  points will be subtracted.  
The summation of scores for every iteration of the scenario in each context will give the score for the framework's support.

\paragraph{Performance}
Different aspect of the framework influence the performance.  
We will test the time to load and render the full POCs and isolated screens with Goolge Page Speed~\cite{Google2012},  as suggested by~\cite{Morgan2011}.   
Also,  isolated tests will record the loading time of dummy pages with 1000 buttons.  
The summation of render times will give the score for the frameworks performance.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Frameworks} % (1 blz per framework + tabel)
\label{sec:frameworks}
This section introduces the explored mobile HTML5 frameworks: jQuery Mobile (jQM) and \st{} (\sta{}).

\subsection{\st} % (0.5 blz Sander)
\label{sec:frameworks-sencha-touch}

ST is a framework developed by Sencha,  a company founded in 2010 as a composition of Ext JS, jQuery Touch and Raphaël.  
Ext JS is a JavaScript framework for the development of HTML5 applications.  
jQuery Touch is a jQuery plugin for mobile development that adds touch events to jQuery and depends on the WebKit engine.  
Finally,  Raphaël, is a JavaScript library for vector drawings.  
Parts of the first two technologies can be found in the implementation of the ST framework.    

As at the time of writing,  ST is at version 2.1.1~\cite{Inc.}.

\paragraph{Documentation}
All documentation for ST 2.1.1 can be found at \exturl{docs.sencha.com/touch/2-0}.  
The most important features are provided with code examples and live previews.
The key concepts of ST are explained in extensive tutorials:  some are texts, some are videos.  

Another handy tool to discover the ST features is the Kitchen Sink~\cite{Inc.2013}.  
This is a HTML5 application that lines up all possibilities of the framework combined with the corresponding code.

\paragraph{Licenses}
ST is free within a commercial context in which the developer does not share the code with its users.  
There is also the option to use an open source version.  
This comes with a GNU GPL v3 license which implies a free code redistribution as most important property.
Other licenses can be found at~\cite{SenchaInc.}.
  
\paragraph{Code and development}
ST is written on top of Ext JS,  and can also be considered as a JavaScript framework.  
All code needs to be written in JavaScript and loaded by one HTML container.  
Another important aspect of ST is that it supports the Model-View-Controller (MVC) pattern.  
Models group fields to data objects,  views define how the content is presented to the user and controllers connect these based on events.

ST contains all UI elements as JavaScript objects.  
Just like object-oriented programming,  those objects are part of a class system.  
Classes can both be defined (\code{Ext.define}) or created (\code{Ext.create}).  
Single inheritance and overriding is also possible.    

To enhance performance,  it is the programmer's task to create components before they are used.  
In this way,  the programmer partially determines the performance of the application.

\paragraph{Browser support}
Just like jQuery Touch,  ST is based upon the WebKit browser engine.  
This forms the major requirement for browser support.  
Although most mobile browsers contain this engine,  some like FireFox Mobile and Opera Mobile lack behind~\cite{JohnEClark2012}.  
Following~\cite{Wokke2013}, the next release of the Opera browser will contain the WebKit engine,  a trend that most browser vendors will (have to) follow.

The framework offers the programmer methods to ask for the current context where the end-user is working in. 
Properties like \code{Ext.env.Browser} and \code{Ext.env.OS} or methods like \code{Ext.Viewport.getOrientation} and \code{Ext.feature.has} can determine this context~\cite{JohnEClark2012}.  
The latter has the same functionality as Modernizer~\cite{Modernizr2012}.  

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{\kendo} % (0.5 blz Sander)
\label{sec:frameworks-kendo}

\paragraph{Documentation}

\paragraph{Licenses}

\paragraph{Code and development}

\paragraph{Browser support}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\subsection{jQuery Mobile} % (0.5 blz Tim)
\label{sec:jqm}

jQM is a mobile HTML5 user interface~(UI) framework that was announced in 2010~\cite{Resig2010}. 
In November 2011 version~1.0 was released~\cite{Parker2011} and one year later in October, version~1.2 was released~\cite{Parker2012}. 
As at the time of writing, jQM released version~1.3 \cite{Parker2013a}.
The framework is controlled by the jQuery Project that also manages jQuery Core. 
The latter is a JavaScript library where jQM is dependent on~\cite{JQuery2012}. 
jQM is among other things sponsored by Adobe, Nokia, BlackBerry and Mozilla~\cite{JQuery2012a}.

\paragraph{Licence}
As of September 2012 it is only possible to use jQM under the Massachusetts Institute of Technology~(MIT) licence~\cite{Dmethvin2012}. 
This means that the code is released as open source and can also be used in proprietary projects~\cite{PhilDutson2012}.

\paragraph{Documentation}
One can find the documentation of jQM on \exturl{www.jquerymobile.com/demos/1.2.0}. On the one hand it contains an overview of all possible UI components. 
By checking the source code, you can find out what code to write to get the same result. 
On the other hand it explains the API on how to configure defaults, use events, methods, utilities, data attributes and theme the framework \cite{JQuery2012b}.

\paragraph{Code and development}
jQM is a mark-up driven UI framework and thus provides mainly UI components. 
jQM provides 6 categories of components: pages and dialogs, toolbars, buttons, content formatting, form elements and litsviews~\cite{JQuery2012b}. 
One can obtain these components by writing HTML5 with jQM specific \code{data-}* attributes. 
When running the application, jQM will add the extra necessary code to correctly show these components by doing progressive enhancement.

There are three ways of writing a HTML5 application in jQM~\cite{Broulik2012}. 
The first one is to write the full application on one single web page.
The advantage is that there are initially less requests to the server.
The second option is to write a web page for each screen. 
The advantage here is that the first viewed screen is downloaded more quickly. 
However, with each transition, the next screen has to be fetched which can delay navigation.
This is done with AJAX by default in jQM.
Lastly, you can mix the two above to find an optimum by putting the most likely viewed screens on one web page and the less likely viewed on separated pages.  

\paragraph{Browser support}
\label{sec:jqm-browser-support}
jQM divides browsers into three grades: A, B and C. 
An A graded browsers supports everything of the jQM framework, where a C graded browsers only provides basic HTML experience (so for example no CSS3 transitions)~\cite{JQuery2012d}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{\lungo} % (0.5 blz Tim)
\label{sec:frameworks-lungo}

\paragraph{Documentation}

\paragraph{Licenses}

\paragraph{Code and development}

\paragraph{Browser support}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Evaluation}
This section evaluates the mobile HTML5 frameworks by two criteria: community and usage.

\subsection{Popularity} % (0,5 blz)
\label{sec:evaluation-popularity}

The activity around frameworks in social media has to be considered with a lot of care.  
If,  for example,  a framework has a lot of questions on Stack Overflow,  one could conclude the framework has a lot of ambiguity.  
Someone else could argue  the framework has a large active Internet community build around it.  
Also,  the numbers of Twitter followers and Facebook likes only give an indication of the popularity of the framework,  there is no exact science involved.

As depicted in the comparison table XXXXXX,  jQM has a much larger social community.  
An explanation could be explained by the large success of jQuery,  a popular JavaScript library~\cite{Hales2012}.

The fact that ST had the first stable 1.0 release in mobile UI frameworks~\cite{Oeflman2011},  is not reflected in the community numbers.  
\cite{Inc.} states that Sencha is the largest provider of open source HTML5 application frameworks with more than two million developers.  
ST itself embraces about one quarter of this number.

ST is not available on GitHub,  that is why no data is given.

\begin{table}
\centering
\resizebox{8cm}{!} {
\pgfplotstabletypeset[
  col sep=comma,
  string type,
  header=true,
  columns={Popularity,ST,Kendo,jQM,Lungo},
  columns/Popularity/.style={column name=\textbf{Popularity}, column type={l}},  
  columns/ST/.style={column name=\textbf{\sta}, column type={c}},
  columns/ST/.style={column name=\textbf{\sta}, column type={c}},
  columns/jQM/.style={column name=\textbf{\jqma}, column type={c}},
  columns/Lungo/.style={column name=\textbf{\lungoa}, column type={c}},
  columns/Kendo/.style={column name=\textbf{\kendoa}, column type={c}},
  every head row/.style={
    before row=\toprule,
    after row=\midrule},
  every last row/.style={
  	before row=\midrule,
    after row=\bottomrule}
]{../Masterproef/tabellen/populariteit.csv}
}
\caption{Overview of popularity for \st{}~(\sta), \kendo{}~(\kendoa), \jqm{}~(\jqma) and \lungo{}~(\lungoa).}
\label{tabel:evaluatie-popularity}
\end{table}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Productivity} % Sander 0,5 blz
\label{sec:evaluation-productivity}

\begin{table}
\centering
\pgfplotstabletypeset[
  col sep=comma,
  string type,
  header=true,
  columns={Productivity,ST,Kendo,jQM,Lungo},
  columns/Productivity/.style={column name=\textbf{Productivity}, column type={l}},  
  columns/ST/.style={column name=\textbf{\sta}, column type={c}},
  columns/ST/.style={column name=\textbf{\sta}, column type={c}},
  columns/jQM/.style={column name=\textbf{\jqma}, column type={c}},
  columns/Lungo/.style={column name=\textbf{\lungoa}, column type={c}},
  columns/Kendo/.style={column name=\textbf{\kendoa}, column type={c}},
  every head row/.style={
    before row=\toprule,
    after row=\midrule},
  every last row/.style={
  	before row=\midrule,
    after row=\bottomrule}
]{../Masterproef/tabellen/productiviteit.csv}
\caption{Overview of productivity for \st{}~(\sta), \kendo{}~(\kendoa), \jqm{}~(\jqma) and \lungo{}~(\lungoa).}
\label{tabel:evaluatie-productiviteit}
\end{table}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Usage}
\label{sec:poc}
In this section we evaluate the usage by stating challenges.
Each challenge consists of subchallenges that are explained first.
Afterwards the framework is graded on each of these challenges and commented why that score was given.
The total score per challenge can be found in XXXXXX.

\begin{table}
\centering
\resizebox{8cm}{!} {
\pgfplotstabletypeset[
  col sep=comma,
  string type,
  header=true,
  columns={Challenge,Max,ST(abs),Kendo(abs),jQM(abs),Lungo(abs)},
  columns/Challenge/.style={column name=\textbf{Challenge}, column type={l}},
  columns/Max/.style={column name=\textbf{Max}, column type={l}},    
  columns/jQM(abs)/.style={column name=\textbf{\jqma}, column type={c}},
  columns/ST(abs)/.style={column name=\textbf{\sta}, column type={c}},
  columns/Lungo(abs)/.style={column name=\textbf{\lungoa}, column type={c}},
  columns/Kendo(abs)/.style={column name=\textbf{\kendoa}, column type={c}},
  every head row/.style={
    before row=\toprule,
    after row=\midrule},
  every last row/.style={
  	before row=\midrule,
    after row=\bottomrule}
]{../Masterproef/tabellen/gebruik.csv}
}
\caption{Overview of usage for \st{}~(\sta), \kendo{}~(\kendoa), \jqm{}~(\jqma) and \lungo{}~(\lungoa).}
\label{tabel:evaluatie-usage}
\end{table}

\chal{toestel}
\begin{itemize}
  \item Recognising smartphone or tablet (C1).
  \item Show left sided menu on tablet (C2).
  \item Enabling smartphone menu (C3).
\end{itemize}

\framework{\sta{}}{}

Detection of a smartphone context is done via the \code{Ext.os.is.Phone} method.  
If this method returns false,  we assume to be in tablet mode.    
The main screen of the POC requires a splitted view in tablet mode.  
A \code{vbox} layout splits the viewport with a vertical axis.  
The \code{flex} property defines the ratio of the sizes of both resulting components.  
%TODO niet meer relevant The right component is the page that changes by clicking the menu items in the left component.  
%This can be realized via a \code{card} layout where changing the page implies setting the active component of the \code{card} layout.
In smartphone mode,  the left screen is made invisible and an extra menubutton in the header is created.  
Making the sub header clickable is not possible  

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}

No functionality is provided by the framework, so a search for plugins was started with~\cite{Deering2012} which led to: Splitview~\cite{Rahman2013}, SimpleSplitView~\cite{Yared2013} and Multiview~\cite{Franck2012}. 
All these had shortcomings. 
The first changed the jQM library code, the second used jQM~1.0.1 and the last had problems with adapting to different browser sizes.
\cite{Hadlock2012} showed the use of CSS3 media queries to accomplish the split screen without a plugin.
The documentation of jQM~1.2 also used a similar approach~~\cite{JQuery2012b}.
This approach is also encouraged in the documentation of jQM~1.3~\cite{JQuery2013e}.
The smartphone menu can be accessed on both tablet and smartphone devices when clicking on the sub header.

\framework{\lungoa{}}{}
TODO

\chal{formulieren}

\begin{itemize}
 \item Create forms with placeholders, but without labels (C1).
 \item Use the text, number and email as form types (C2).
 \item Custom datepicker with data range (C3).
 \item Custom datepicker only with month and year (C4).
 \item Clearing the form (C5).
\end{itemize}


\framework{\sta{}}{}

Placeholders, text, email and number fields are supported by the framework and can be easily created.  
Labels can be avoided by not defining them.  
Creating custom datepickers is not supported.  
It is impossible to ignore the days field and only years can be delimited.  
Clearing the form after it was send, has to be programmed manually.

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}

Placeholders can be achieved with the HTML5 \code{placeholder} attribute.
Labels are mandatory in jQM for assistive technologies, but can be hidden via the \code{ui-hide-label} class~\cite{JQuery2013}. 
The types of form elements used were text, number and email.
The \code{date} type could not be used, because of the lack of support in mobile browsers~\cite{Deveria2013b}.
Not only the lack of support, but also the need to specify a range the user can choose from, justifies the use of the Date \& Time Picker of Mobiscroll~\cite{Mobiscroll2013}.
The need for a custom datepicker with only a month and year needed to be hardcoded.
Clearing the form after it was send, has to be programmed manually.

\framework{\lungoa{}}{}
TODO


\chal{vullen}
\begin{itemize}
  \item Filling in the form elements with data (C1).
  \item Make the form elements read-only (C2).
\end{itemize}
%Back button to go back to the list (C3). %TODO niet van toepassing

\framework{\sta{}}{}

%To show the list of clickable expenses,  ST provides a navigation view.  
%This mechanism allows to create the list of expenses together with a handler that gets triggers after an item selection.  
The controller can fill an empty form with a model instance.
Field names that correspond to the object's properties are linked and filled in.
Setting the value of the correct radiobutton does not work,  a new fieldset has to be created on which the \code{setGroupValue} method needs to be applied.  
Making form elements read-only can be done by setting the \code{readOnly} or \code{disabled} property to true.
%A back button is automatically created to return to the overview list.

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}

There is no automatic mapping between the data and the form.
Setting the form elements read-only can be done easily for the types \code{input} and \code{textarea} with the \code{readonly} attribute.
With a fieldset, the \code{disabled} attribute made is read-only.
Lastly with a select menu, the other options were deleted from the menu.
%Adding a back button was no problem.

\framework{\lungoa{}}{}
TODO

% \chal{autoaanvullen}
% Fetch suggestions based on input (C1).
% Show suggestions in clickable drop down (C2).
% 
% \framework{jQM}{1,1}
% As of version~1.3, jQM has built-in autocomplete support~\cite{JQuery2013c}.
% Because the POC used 1.2, the plugin of Matthews~\cite{Matthews2013} was used.
% To show only five suggestion, a little customisation by the \code{slice} function was needed because the plugin did not provid this.
% 
% \framework{ST}{1,0}
% A plugin can be found at~\cite{Mysamplecode2012} to create an autocomplete field.  
% A request to the backend with a keyword returns a JSON array named \code{data}.  
% ST can parse this array in two ways:  with a \code{JsonReader} or an \code{ArrayReader}.  
% The first requires that a JSON key precedes each item,  the latter assumes each item in the array maps to a field of a model.  
% Both strategies cannot be used to parse the array and create separate model instances for each array item.  
% This implies that no clickable drop-down could be implemented.
% 

\chal{afbeelding}
\begin{itemize}
  \item Choose image (C1).
  \item Convert image to base64 (C2).
  \item Preview image (C3).
\end{itemize}

\framework{\sta{}}{}

A plugin to upload files can be found~\cite{Smirnov2012} to create buttons with the \code{fileupload} component.  
This button enables users to select an image and passes it to a PHP file.  
This file uploads the image and converts it to base64.
A requirement is that your server is able to run that PHP file.    
A ST image can be created based on this base64 string.

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}

A form element of type \code{file} is used to let the user attach an image.
Depending on the mobile device, the options are to attach a local image or to take one with the camera.
The attached image is read by the FileReaderAPI, converted to an image and imported on the canvas.
The base64 encoding can be retrieved by calling the \code{.toDataURL()} on the latter and is stored in session storage.
However the FileReaderAPI is not supported on Android~2.3 and lower or iOS less than 6.0~\cite{Deveria2013a}.
Another limitation is the file size that can be imported on a canvas on iOS devices which is depend on the RAM size~\cite{Apple2012}.
The final limitation is the size of the encoded evidence in base64, which can exceeded the limit for session storage, that is depend on the mobile browser~\cite{Gonzalez2012}.

\framework{\lungoa{}}{}
TODO

\chal{validatie}
\begin{itemize}
 \item Validation rules for a required, number and email field (C1).
 \item Validation depends on custom conditions (C2).
 \item Error dialog with invalid fields and explanation (C3).
 \item Red borders around invalid fields (C4).
\end{itemize}

\framework{\sta{}}{}

Required fields and email validation can be assigned to a model.  
To add custom validation rules or messages,  the \code{validate} method of \code{Ext.data.Model} needs to be overridden.  
This method accepts a model instance and returns the possible validation errors.  
The errors must be iterated to concatenate the validation messages.
The red borders are created by adding a custom CSS class to the form element.

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}

Because of the lack of support on mobile browsers for the \code{required} attribute~\cite{Deveria2013}, the plugin of Zaefferer~\cite{Zaefferer2013} was used to check for required fields.
This plugin also provides built-in validation methods that were needed: \code{number}, \code{email} and \code{date} and custom validation conditions.
The plugin shows errors below the corresponding field, so customisation of the plugin was needed to show them in a dialog.
To give the invalid fields a red border, CSS was used directly for \code{input} and \code{textarea}.
Because of the progressive enhancement for \code{select} and \code{fieldset}, a bit of DOM traversal was needed.

\framework{\lungoa{}}{}
TODO

% \chal{handtekening}
% Draw a signature with finger or pen (C1).
% 
% \framework{jQM}{1}
% At first, Signature Pad~\cite{Bradley2013} was used as plugin.
% Because of the time spend on changing the default layout, jSignature~\cite{Systems2013} was used instead.
% Two advantage over the former were the automatic scaling to 100\% width and the basic layout.
% However, the plugin does not work on Android~2.3 and lower~\cite{Systems2013}.
% 
% \framework{ST}{1}
% Drawing a signature is handled by a plugin~\cite{SimFla2011}.  
% Plugins can easily be added to the framework by placing the plugin file in the \code{ux} folder and loading it in the main JavaScript file.  
% This plugin could be used as-is by using the newly \code{signaturefield} component.  

\chal{ajax}
\begin{itemize}
  \item Fetch plain text (C1).
  \item Fetch and parse JSON (C2).
  \item Send JSON payload (C3).
  \item Fetch and parse XML (C4).
\end{itemize}

\framework{\sta{}}{}

AJAX requests can be done either explicitly via a direct \code{Ext.Ajax.request} call or implicitly via stores.  
The plain text of the AJAX response can be used in the callback.   
Stores can be configured with a model to define the structure of the recorded objects.  
A proxy configures readers and writers that define where the data can be read or written.  
This can be locally at the client side or via a remote server.  
Readers and writers contain the format of the data - JSON or XML - and automatically parse this data to fields of the corresponding model. 
Sending JSON payload must be done via an AJAX request where the \code{jsonData} is encoded via \code{Ext.encode}.

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}

AJAX requests are made via the jQuery library where jQM is dependent on.
Handling plain data and JSON as response is straightforward and the data can be used directly.
When using XML, the data has to be traversed like with HTML, this means by using selectors.
Sending JSON can be achieved by converting the instance into a string object using the vanilla JavaScript function \code{JSON.stringify} and add it as data to the jQuery AJAX request.

\framework{\lungoa{}}{}
TODO

\chal{pdf}
\begin{itemize}
 \item Requesting a PDF with POST parameters (C1).
 \item Show the PDF (C2).
\end{itemize}

\framework{\sta{}}{}

A plugin for a PDF viewer can be found at~\cite{Fiedler2012}.  
Some modifications were necessary to made it compliant with the POC.  
The PDF must be fetched from the backend with a parameterized POST request instead of a simple GET request.  
The plugin automatically creates views for every PDF page.  

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}

To download the PDF, a hidden form is used because AJAX is not the preferred way for fetching raw data.
When the users taps an expense form in the list, this hidden form is submitted with the correct parameters to download the PDF.
The mobile device opens the corresponding native PDF viewer to show the PDF.

\framework{\lungoa{}}{}
TODO

\chal{lijsten}

\framework{\sta{}}{}
TODO

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}
TODO

\framework{\lungoa{}}{}
TODO

\chal{offline}

\framework{\sta{}}{}
TODO

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}
TODO

\framework{\lungoa{}}{}
TODO


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Support} % 2 blz
\label{sec:evaluation-support}

\begin{table}
\centering
\resizebox{8cm}{!} {
\pgfplotstabletypeset[
	column type=l,
	every head row/.style={
		before row={%
			\toprule
			\textbf{Challenge}
			& \multicolumn{2}{c}{\textbf{\sta}}
			& \multicolumn{2}{c}{\textbf{\kendoa}} 
			& \multicolumn{2}{c}{\textbf{\jqma}}
			& \multicolumn{2}{c}{\textbf{\lungoa}} \\
			\cmidrule(r){2-3}
			\cmidrule(r){4-5}
			\cmidrule(r){6-7}
			\cmidrule(r){8-9}
		},
		after row=\midrule,
		},
  	every last row/.style={
  		before row=\toprule,
 		after row=\bottomrule},
	columns={Challenge,ST(abs),ST(max),Kendo(abs),Kendo(max),jQM(abs),jQM(max),Lungo(abs),Lungo(max)},
	begin table=\begin{tabular}{lcccccccc},
	end table=\end{tabular},
	header=true,
	skip coltypes=true,
	columns/Challenge/.style ={column name=},
	columns/ST(abs)/.style ={column name=Score},
	columns/ST(max)/.style={column name=Max},
	columns/Kendo(abs)/.style ={column name=Score},
	columns/Kendo(max)/.style={column name=Max},
	columns/jQM(abs)/.style ={column name=Score},
	columns/jQM(max)/.style={column name=Max},
	columns/Lungo(abs)/.style ={column name=Score},
	columns/Lungo(max)/.style={column name=Max},
	col sep=comma,
	string type,
]{../Masterproef/tabellen/ondersteuning-u.csv}
}
\caption{Overview of support per challenge.}
\label{tabel:evaluatie-ondersteuning-u}
\end{table}

\chal{toestel}

\framework{\sta{}}{}
TODO

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}
TODO

\framework{\lungoa{}}{}
TODO

\chal{formulieren}

\framework{\sta{}}{}
TODO

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}
TODO

\framework{\lungoa{}}{}
TODO

\chal{autoaanvullen}

\framework{\sta{}}{}
TODO

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}
TODO

\framework{\lungoa{}}{}
TODO

\chal{afbeelding}

\framework{\sta{}}{}
TODO

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}
TODO

\framework{\lungoa{}}{}
TODO

\chal{handtekening}

\framework{\sta{}}{}
TODO

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}
TODO

\framework{\lungoa{}}{}
TODO

\chal{pdf}

\framework{\sta{}}{}
TODO

\framework{\kendoa{}}{}
TODO

\framework{\jqma{}}{}
TODO

\framework{\lungoa{}}{}
TODO
  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Performance} % 1 blz
\label{sec:evaluation-performance}

\begin{figure}
  \centering
  \includegraphics[width=0.4\textwidth]{../Masterproef/figuren/performance.pdf}
  \caption{Average download time for POC,  POC from cache,  login and login from cache for each framework (less is better).}
  \label{fig:performance}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Comparison overview} % ? blz
\label{sec:evaluation-overview}

\begin{figure}
  \centering
  \includegraphics[width=0.4\textwidth]{../Masterproef/figuren/spidergraph.pdf}
  \caption{Comparison overview with the five comparisioncriteria for \st{},  \kendo{},  \jqm{} en \lungo{}.}
  \label{fig:spidergraph}
\end{figure}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\section{Related Work} % Sander 0.25 pg
\label{sec:related-work}

Many in-depth comparisons of mobile HTML5 frameworks already exist today.  
However, none of them are scientifically published or use a large proof of concept (POC) to validate their comparison.  
The idea of using a small-scale POC is not new.  
\cite{Oeflman2011} and~\cite{Kosmaczewski2012},  for example,  use a small geosocial game and todo list application respectively to compare mobile HTML5 frameworks.
Blog posts like~\cite{Sarrafi2012a,Ayuso2012,Rozynski2011} all have their own criteria and methodologies to assess different mobile frameworks.  
The overall application of the criteria changes from use case to use case.  
\cite{Rozynski2011} presents the chosen criteria and discusses them for each framework.  
\cite{Ayuso2012} presents 17 criteria but all of them are discussed at once per framework.  
Thereafter,  advantages and disadvantages are subtracted and proposed to the reader.  
Finally, \cite{Sarrafi2012a} presents their chosen criteria together with a scorecard and an explanation of scores per criterion.  
Each framework gets evaluated based on the scores for each criterion.

All these blog posts compare mobile and hybrid frameworks.  
Other websites like~\cite{Bristowe2012,Burris} only focus on two mobile HTML5 frameworks in contrast to ~\cite{Falk2011} who tries to compare as much as frameworks as possible in a large tabular form.

% \begin{table}[h!]
% \centering
% \begin{tabular}{lcc}
%   & \textbf{Hybrid} & \textbf{Mobile}\\
%   \hline \hline
% \cite{Sarrafi2012a} & 0 & 4\\
% \cite{Rozynski2011} & 2 & 3\\
% \cite{Ayuso2012}* & 1** & 6\\
% \hline
% \multicolumn{3}{l}{*is still under development} \\
% \multicolumn{3}{l}{**a combination of Bootstrap of jQuery and Angular JS} \\
% \end{tabular}
% \caption{How many frameworks of which type are compared}
% \label{table:references_frameworks}
% \end{table}

As mentioned earlier,  we will compare two mobile HTML5 frameworks based upon a large-scale POC.  
This POC encompasses an application to let employees attach, sign and submit expenses to their employer via tablet or smartphone.
Afterwards, the employee can view the uploaded expenses and download them as PDF.

\section{Future work} % ? blz)
\label{sec:future_work}
We have to choose the next two mobile HTML5 frameworks, implement the POC and evaluate the framework.
We also have to evaluate the following three criteria: productivity, support and performance. 
Finally, we want to expand the usage criterion with the following challenges:


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Conclusion} % 0,5 blz
\label{sec:conclusion}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% % Define a new 'leo' style for the package that will use a smaller font.
% \makeatletter
% \def\url@leostyle{%
%   \@ifundefined{selectfont}{\def\UrlFont{\sf}}{\def\UrlFont{\small\ttfamily}}}
% \makeatother
% %% Now actually use the newly defined style.
% \urlstyle{leo}

%\bibliographystyle{named}
\bibliographystyle{abbrv}
\bibliography{../Referenties/literatuurstudie-en,../Referenties/vergelijking-en,../Referenties/evaluatie-en}

\end{document}