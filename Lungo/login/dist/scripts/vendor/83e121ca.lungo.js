(function(){var e;e=function(){var e,t,n;return t=[],e=function(t,r){var i;return t?"function"===e.toType(t)?e(document).ready(t):(i=e.getDOMObject(t,r),n(i,t)):n()},n=function(e,r){return e=e||t,e.__proto__=n.prototype,e.selector=r||"",e},e.extend=function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){var n,r;r=[];for(n in t)r.push(e[n]=t[n]);return r}),e},n.prototype=e.fn={},e}(),window.Quo=e,"$$"in window||(window.$$=e)}).call(this),function(){(function(e){var t,n,r,i,o,a,s,c,u,l,f;return t={TYPE:"GET",MIME:"json"},r={script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},n=0,e.ajaxSettings={type:t.TYPE,async:!0,success:{},error:{},context:null,dataType:t.MIME,headers:{},xhr:function(){return new window.XMLHttpRequest},crossDomain:!1,timeout:0},e.ajax=function(n){var r,s,l,d;if(l=e.mix(e.ajaxSettings,n),l.type===t.TYPE?l.url+=e.serializeParameters(l.data,"?"):l.data=e.serializeParameters(l.data),i(l.url))return e.jsonp(l);d=l.xhr(),d.onreadystatechange=function(){return 4===d.readyState?(clearTimeout(r),u(d,l)):void 0},d.open(l.type,l.url,l.async),c(d,l),l.timeout>0&&(r=setTimeout(function(){return f(d,l)},l.timeout));try{d.send(l.data)}catch(h){s=h,d=s,a("Resource not found",d,l)}return l.async?d:o(d,l)},e.jsonp=function(t){var r,i,o,a;return t.async?(i="jsonp"+ ++n,o=document.createElement("script"),a={abort:function(){return e(o).remove(),i in window?window[i]={}:void 0}},r=void 0,window[i]=function(n){return clearTimeout(r),e(o).remove(),delete window[i],l(n,a,t)},o.src=t.url.replace(RegExp("=\\?"),"="+i),e("head").append(o),t.timeout>0&&(r=setTimeout(function(){return f(a,t)},t.timeout)),a):console.error("QuoJS.ajax: Unable to make jsonp synchronous call.")},e.get=function(t,n,r,i){return e.ajax({url:t,data:n,success:r,dataType:i})},e.post=function(e,t,n,r){return s("POST",e,t,n,r)},e.put=function(e,t,n,r){return s("PUT",e,t,n,r)},e["delete"]=function(e,t,n,r){return s("DELETE",e,t,n,r)},e.json=function(n,r,i){return e.ajax({url:n,data:r,success:i,dataType:t.MIME})},e.serializeParameters=function(e,t){var n,r;null==t&&(t=""),r=t;for(n in e)e.hasOwnProperty(n)&&(r!==t&&(r+="&"),r+=""+encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return r===t?"":r},u=function(e,t){e.status>=200&&300>e.status||0===e.status?t.async&&l(o(e,t),e,t):a("QuoJS.ajax: Unsuccesful request",e,t)},l=function(e,t,n){n.success.call(n.context,e,t)},a=function(e,t,n){n.error.call(n.context,e,t,n)},c=function(e,t){var n;t.contentType&&(t.headers["Content-Type"]=t.contentType),t.dataType&&(t.headers.Accept=r[t.dataType]);for(n in t.headers)e.setRequestHeader(n,t.headers[n])},f=function(e,t){e.onreadystatechange={},e.abort(),a("QuoJS.ajax: Timeout exceeded",e,t)},s=function(t,n,r,i,o){return e.ajax({type:t,url:n,data:r,success:i,dataType:o,contentType:"application/x-www-form-urlencoded"})},o=function(e,n){var r,i;if(i=e.responseText)if(n.dataType===t.MIME)try{i=JSON.parse(i)}catch(o){r=o,i=r,a("QuoJS.ajax: Parse Error",e,n)}else"xml"===n.dataType&&(i=e.responseXML);return i},i=function(e){return RegExp("=\\?").test(e)}})(Quo)}.call(this),function(){(function(e){var t,n,r,i,o,a,s,c;return t=[],i=Object.prototype,r=/^\s*<(\w+|!)[^>]*>/,o=document.createElement("table"),a=document.createElement("tr"),n={tr:document.createElement("tbody"),tbody:o,thead:o,tfoot:o,td:a,th:a,"*":document.createElement("div")},e.toType=function(e){return i.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},e.isOwnProperty=function(e,t){return i.hasOwnProperty.call(e,t)},e.getDOMObject=function(t,n){var i,o,a;return i=null,o=[1,9,11],a=e.toType(t),"array"===a?i=s(t):"string"===a&&r.test(t)?(i=e.fragment(t.trim(),RegExp.$1),t=null):"string"===a?(i=e.query(document,t),n&&(i=1===i.length?e.query(i[0],n):e.map(function(){return e.query(i,n)}))):(o.indexOf(t.nodeType)>=0||t===window)&&(i=[t],t=null),i},e.map=function(t,n){var r,i,o,a;if(a=[],r=void 0,i=void 0,"array"===e.toType(t))for(r=0;t.length>r;)o=n(t[r],r),null!=o&&a.push(o),r++;else for(i in t)o=n(t[i],i),null!=o&&a.push(o);return c(a)},e.each=function(t,n){var r,i;if(r=void 0,i=void 0,"array"===e.toType(t))for(r=0;t.length>r;){if(n.call(t[r],r,t[r])===!1)return t;r++}else for(i in t)if(n.call(t[i],i,t[i])===!1)return t;return t},e.mix=function(){var t,n,r,i,o;for(r={},t=0,i=arguments.length;i>t;){n=arguments[t];for(o in n)e.isOwnProperty(n,o)&&void 0!==n[o]&&(r[o]=n[o]);t++}return r},e.fragment=function(t,r){var i;return null==r&&(r="*"),r in n||(r="*"),i=n[r],i.innerHTML=""+t,e.each(Array.prototype.slice.call(i.childNodes),function(){return i.removeChild(this)})},e.fn.map=function(t){return e.map(this,function(e,n){return t.call(e,n,e)})},e.fn.instance=function(e){return this.map(function(){return this[e]})},e.fn.filter=function(t){return e([].filter.call(this,function(n){return n.parentNode&&e.query(n.parentNode,t).indexOf(n)>=0}))},e.fn.forEach=t.forEach,e.fn.indexOf=t.indexOf,s=function(e){return e.filter(function(e){return void 0!==e&&null!==e})},c=function(e){return e.length>0?[].concat.apply([],e):e}})(Quo)}.call(this),function(){(function(e){return e.fn.attr=function(t,n){return 0===this.length,"string"===e.toType(t)&&void 0===n?this[0].getAttribute(t):this.each(function(){return this.setAttribute(t,n)})},e.fn.removeAttr=function(e){return this.each(function(){return this.removeAttribute(e)})},e.fn.data=function(e,t){return this.attr("data-"+e,t)},e.fn.removeData=function(e){return this.removeAttr("data-"+e)},e.fn.val=function(t){return"string"===e.toType(t)?this.each(function(){return this.value=t}):this.length>0?this[0].value:null},e.fn.show=function(){return this.style("display","block")},e.fn.hide=function(){return this.style("display","none")},e.fn.height=function(){var e;return e=this.offset(),e.height},e.fn.width=function(){var e;return e=this.offset(),e.width},e.fn.offset=function(){var e;return e=this[0].getBoundingClientRect(),{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:e.width,height:e.height}},e.fn.remove=function(){return this.each(function(){return null!=this.parentNode?this.parentNode.removeChild(this):void 0})}})(Quo)}.call(this),function(){(function(e){var t,n,r,i,o,a,s;return r=null,t=/WebKit\/([\d.]+)/,n={Android:/(Android)\s+([\d.]+)/,ipad:/(iPad).*OS\s([\d_]+)/,iphone:/(iPhone\sOS)\s([\d_]+)/,Blackberry:/(BlackBerry|BB10|Playbook).*Version\/([\d.]+)/,FirefoxOS:/(Mozilla).*Mobile[^\/]*\/([\d\.]*)/,webOS:/(webOS|hpwOS)[\s\/]([\d.]+)/},e.isMobile=function(){return r=r||o(),r.isMobile&&"firefoxOS"!==r.os.name},e.environment=function(){return r=r||o()},e.isOnline=function(){return navigator.onLine},o=function(){var e,t;return t=navigator.userAgent,e={},e.browser=i(t),e.os=a(t),e.isMobile=!!e.os,e.screen=s(),e},i=function(e){var n;return n=e.match(t),n?n[0]:e},a=function(e){var t,r,i;t=null;for(r in n)if(i=e.match(n[r])){t={name:"iphone"===r||"ipad"===r?"ios":r,version:i[2].replace("_",".")};break}return t},s=function(){return{width:window.innerWidth,height:window.innerHeight}}})(Quo)}.call(this),function(){(function(e){var t,n,r,i,o,a,s,c,u,l,f,d;return t=1,i={},r={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},n={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",touch:"click",doubletap:"dblclick",orientationchange:"resize"},o=/complete|loaded|interactive/,e.fn.on=function(t,n,r){return"undefined"===n||"function"===e.toType(n)?this.bind(t,n):this.delegate(n,t,r)},e.fn.off=function(t,n,r){return"undefined"===n||"function"===e.toType(n)?this.unbind(t,n):this.undelegate(n,t,r)},e.fn.ready=function(t){return o.test(document.readyState)?t(e):e.fn.addEvent(document,"DOMContentLoaded",function(){return t(e)})},e.Event=function(e,t){var n,r;if(n=document.createEvent("Events"),n.initEvent(e,!0,!0,null,null,null,null,null,null,null,null,null,null,null,null),t)for(r in t)n[r]=t[r];return n},e.fn.bind=function(e,t){return this.each(function(){f(this,e,t)})},e.fn.unbind=function(e,t){return this.each(function(){d(this,e,t)})},e.fn.delegate=function(t,n,r){return this.each(function(i,o){f(o,n,r,t,function(n){return function(r){var i,s;return s=e(r.target).closest(t,o).get(0),s?(i=e.extend(a(r),{currentTarget:s,liveFired:o}),n.apply(s,[i].concat([].slice.call(arguments,1)))):void 0}})})},e.fn.undelegate=function(e,t,n){return this.each(function(){d(this,t,n,e)})},e.fn.trigger=function(t,n,r){return"string"===e.toType(t)&&(t=e.Event(t,n)),null!=r&&(t.originalEvent=r),this.each(function(){this.dispatchEvent(t)})},e.fn.addEvent=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},e.fn.removeEvent=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},f=function(t,n,r,o,a){var u,f,d,h;return n=c(n),d=l(t),f=i[d]||(i[d]=[]),u=a&&a(r,n),h={event:n,callback:r,selector:o,proxy:s(u,r,t),delegate:u,index:f.length},f.push(h),e.fn.addEvent(t,h.event,h.proxy)},d=function(t,n,r,o){var a;return n=c(n),a=l(t),u(a,n,r,o).forEach(function(n){return delete i[a][n.index],e.fn.removeEvent(t,n.event,n.proxy)})},l=function(e){return e._id||(e._id=t++)},c=function(t){var r;return r=e.isMobile()?t:n[t],r||t},s=function(e,t,n){var r;return t=e||t,r=function(e){var r;return r=t.apply(n,[e].concat(e.data)),r===!1&&e.preventDefault(),r}},u=function(e,t,n,r){return(i[e]||[]).filter(function(e){return!(!e||t&&e.event!==t||n&&e.callback!==n||r&&e.selector!==r)})},a=function(t){var n;return n=e.extend({originalEvent:t},t),e.each(r,function(e,r){return n[e]=function(){return this[r]=function(){return!0},t[e].apply(t,arguments)},n[r]=function(){return!1}}),n}})(Quo)}.call(this),function(){(function($$){var CURRENT_TOUCH,EVENT,FIRST_TOUCH,GESTURE,GESTURES,HOLD_DELAY,TAPS,TOUCH_TIMEOUT,_angle,_capturePinch,_captureRotation,_cleanGesture,_distance,_fingersPosition,_getTouches,_hold,_isSwipe,_listenTouches,_onTouchEnd,_onTouchMove,_onTouchStart,_parentIfText,_swipeDirection,_trigger;return TAPS=null,EVENT=void 0,GESTURE={},FIRST_TOUCH=[],CURRENT_TOUCH=[],TOUCH_TIMEOUT=void 0,HOLD_DELAY=650,GESTURES=["touch","tap","singleTap","doubleTap","hold","swipe","swiping","swipeLeft","swipeRight","swipeUp","swipeDown","rotate","rotating","rotateLeft","rotateRight","pinch","pinching","pinchIn","pinchOut","drag","dragLeft","dragRight","dragUp","dragDown"],GESTURES.forEach(function(e){return $$.fn[e]=function(t){var n;return n="touch"===e?"touchend":e,$$(document.body).delegate(this.selector,n,t)},this}),$$(document).ready(function(){return _listenTouches()}),_listenTouches=function(){var e;return e=$$(document.body),e.bind("touchstart",_onTouchStart),e.bind("touchmove",_onTouchMove),e.bind("touchend",_onTouchEnd),e.bind("touchcancel",_cleanGesture)},_onTouchStart=function(e){var t,n,r,i;return EVENT=e,r=Date.now(),t=r-(GESTURE.last||r),TOUCH_TIMEOUT&&clearTimeout(TOUCH_TIMEOUT),i=_getTouches(e),n=i.length,FIRST_TOUCH=_fingersPosition(i,n),GESTURE.el=$$(_parentIfText(i[0].target)),GESTURE.fingers=n,GESTURE.last=r,GESTURE.taps||(GESTURE.taps=0),GESTURE.taps++,1===n?(n>=1&&(GESTURE.gap=t>0&&250>=t),setTimeout(_hold,HOLD_DELAY)):2===n?(GESTURE.initial_angle=parseInt(_angle(FIRST_TOUCH),10),GESTURE.initial_distance=parseInt(_distance(FIRST_TOUCH),10),GESTURE.angle_difference=0,GESTURE.distance_difference=0):void 0},_onTouchMove=function(e){var t,n,r;return EVENT=e,GESTURE.el&&(r=_getTouches(e),t=r.length,t===GESTURE.fingers?(CURRENT_TOUCH=_fingersPosition(r,t),n=_isSwipe(e),n&&(GESTURE.prevSwipe=!0),(n||GESTURE.prevSwipe===!0)&&_trigger("swiping"),2===t&&(_captureRotation(),_capturePinch(),e.preventDefault())):_cleanGesture()),!0},_isSwipe=function(){var e,t,n;return e=!1,CURRENT_TOUCH[0]&&(t=Math.abs(FIRST_TOUCH[0].x-CURRENT_TOUCH[0].x)>30,n=Math.abs(FIRST_TOUCH[0].y-CURRENT_TOUCH[0].y)>30,e=GESTURE.el&&(t||n)),e},_onTouchEnd=function(e){var t,n,r,i,o;return EVENT=e,_trigger("touch"),1===GESTURE.fingers?2===GESTURE.taps&&GESTURE.gap?(_trigger("doubleTap"),_cleanGesture()):_isSwipe()||GESTURE.prevSwipe?(_trigger("swipe"),o=_swipeDirection(FIRST_TOUCH[0].x,CURRENT_TOUCH[0].x,FIRST_TOUCH[0].y,CURRENT_TOUCH[0].y),_trigger("swipe"+o),_cleanGesture()):(_trigger("tap"),1===GESTURE.taps&&(TOUCH_TIMEOUT=setTimeout(function(){return _trigger("singleTap"),_cleanGesture()},100))):(t=!1,0!==GESTURE.angle_difference&&(_trigger("rotate",{angle:GESTURE.angle_difference}),i=GESTURE.angle_difference>0?"rotateRight":"rotateLeft",_trigger(i,{angle:GESTURE.angle_difference}),t=!0),0!==GESTURE.distance_difference&&(_trigger("pinch",{angle:GESTURE.distance_difference}),r=GESTURE.distance_difference>0?"pinchOut":"pinchIn",_trigger(r,{distance:GESTURE.distance_difference}),t=!0),!t&&CURRENT_TOUCH[0]&&(Math.abs(FIRST_TOUCH[0].x-CURRENT_TOUCH[0].x)>10||Math.abs(FIRST_TOUCH[0].y-CURRENT_TOUCH[0].y)>10)&&(_trigger("drag"),n=_swipeDirection(FIRST_TOUCH[0].x,CURRENT_TOUCH[0].x,FIRST_TOUCH[0].y,CURRENT_TOUCH[0].y),_trigger("drag"+n)),_cleanGesture()),EVENT=void 0},_fingersPosition=function(e,t){var n,r;for(r=[],n=0,e=e[0].targetTouches?e[0].targetTouches:e;t>n;)r.push({x:e[n].pageX,y:e[n].pageY}),n++;return r},_captureRotation=function(){var angle,diff,i,symbol;if(angle=parseInt(_angle(CURRENT_TOUCH),10),diff=parseInt(GESTURE.initial_angle-angle,10),Math.abs(diff)>20||0!==GESTURE.angle_difference){for(i=0,symbol=0>GESTURE.angle_difference?"-":"+";Math.abs(diff-GESTURE.angle_difference)>90&&10>i++;)eval("diff "+symbol+"= 180;");return GESTURE.angle_difference=parseInt(diff,10),_trigger("rotating",{angle:GESTURE.angle_difference})}},_capturePinch=function(){var e,t;return t=parseInt(_distance(CURRENT_TOUCH),10),e=GESTURE.initial_distance-t,Math.abs(e)>10?(GESTURE.distance_difference=e,_trigger("pinching",{distance:e})):void 0},_trigger=function(e,t){return GESTURE.el?(t=t||{},CURRENT_TOUCH[0]&&(t.iniTouch=GESTURE.fingers>1?FIRST_TOUCH:FIRST_TOUCH[0],t.currentTouch=GESTURE.fingers>1?CURRENT_TOUCH:CURRENT_TOUCH[0]),GESTURE.el.trigger(e,t,EVENT)):void 0},_cleanGesture=function(){return FIRST_TOUCH=[],CURRENT_TOUCH=[],GESTURE={},clearTimeout(TOUCH_TIMEOUT)},_angle=function(e){var t,n,r;return t=e[0],n=e[1],r=Math.atan(-1*(n.y-t.y)/(n.x-t.x))*(180/Math.PI),0>r?r+180:r},_distance=function(e){var t,n;return t=e[0],n=e[1],-1*Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y))},_getTouches=function(e){return $$.isMobile()?e.touches:[e]},_parentIfText=function(e){return"tagName"in e?e:e.parentNode},_swipeDirection=function(e,t,n,r){var i,o;return i=Math.abs(e-t),o=Math.abs(n-r),i>=o?e-t>0?"Left":"Right":n-r>0?"Up":"Down"},_hold=function(){return GESTURE.last&&Date.now()-GESTURE.last>=HOLD_DELAY?(_trigger("hold"),GESTURE.taps=0):void 0}})(Quo)}.call(this),function(){(function(e){return e.fn.text=function(t){return t||"number"===e.toType(t)?this.each(function(){return this.textContent=t}):this[0].textContent},e.fn.html=function(t){var n;return n=e.toType(t),t||"number"===n||"string"===n?this.each(function(){var e,r,i,o;if("string"===n||"number"===n)return this.innerHTML=t;if(this.innerHTML=null,"array"===n){for(o=[],r=0,i=t.length;i>r;r++)e=t[r],o.push(this.appendChild(e));return o}return this.appendChild(t)}):this[0].innerHTML},e.fn.append=function(t){var n;return n=e.toType(t),this.each(function(){var e=this;return"string"===n?this.insertAdjacentHTML("beforeend",t):"array"===n?t.each(function(t,n){return e.appendChild(n)}):this.appendChild(t)})},e.fn.prepend=function(t){var n;return n=e.toType(t),this.each(function(){var e=this;return"string"===n?this.insertAdjacentHTML("afterbegin",t):"array"===n?t.each(function(t,n){return e.insertBefore(n,e.firstChild)}):this.insertBefore(t,this.firstChild)})},e.fn.replaceWith=function(t){var n;return n=e.toType(t),this.each(function(){var e=this;return this.parentNode?"string"===n?this.insertAdjacentHTML("beforeBegin",t):"array"===n?t.each(function(t,n){return e.parentNode.insertBefore(n,e)}):this.parentNode.insertBefore(t,this):void 0}),this.remove()},e.fn.empty=function(){return this.each(function(){return this.innerHTML=null})}})(Quo)}.call(this),function(){(function(e){var t,n,r,i,o,a;return r="parentNode",t=/^\.([\w-]+)$/,n=/^#[\w\d-]+$/,i=/^[\w-]+$/,e.query=function(e,r){var o;return r=r.trim(),t.test(r)?o=e.getElementsByClassName(r.replace(".","")):i.test(r)?o=e.getElementsByTagName(r):n.test(r)&&e===document?(o=e.getElementById(r.replace("#","")),o||(o=[])):o=e.querySelectorAll(r),o.nodeType?[o]:Array.prototype.slice.call(o)},e.fn.find=function(t){var n;return n=1===this.length?Quo.query(this[0],t):this.map(function(){return Quo.query(this,t)}),e(n)},e.fn.parent=function(e){var t;return t=e?a(this):this.instance(r),o(t,e)},e.fn.siblings=function(e){var t;return t=this.map(function(e,t){return Array.prototype.slice.call(t.parentNode.children).filter(function(e){return e!==t})}),o(t,e)},e.fn.children=function(e){var t;return t=this.map(function(){return Array.prototype.slice.call(this.children)}),o(t,e)},e.fn.get=function(e){return void 0===e?this:this[e]},e.fn.first=function(){return e(this[0])},e.fn.last=function(){return e(this[this.length-1])},e.fn.closest=function(t,n){var r,i;for(i=this[0],r=e(t),r.length||(i=null);i&&0>r.indexOf(i);)i=i!==n&&i!==document&&i.parentNode;return e(i)},e.fn.each=function(e){return this.forEach(function(t,n){return e.call(t,n,t)}),this},a=function(t){var n;for(n=[];t.length>0;)t=e.map(t,function(e){return(e=e.parentNode)&&e!==document&&0>n.indexOf(e)?(n.push(e),e):void 0});return n},o=function(t,n){return void 0===n?e(t):e(t).filter(n)}})(Quo)}.call(this),function(){(function(e){var t,n,r;return t=["-webkit-","-moz-","-ms-","-o-",""],e.fn.addClass=function(e){return this.each(function(){return r(e,this.className)?void 0:(this.className+=" "+e,this.className=this.className.trim())})},e.fn.removeClass=function(e){return this.each(function(){return e?r(e,this.className)?this.className=this.className.replace(e," ").replace(/\s+/g," ").trim():void 0:this.className=""})},e.fn.toggleClass=function(e){return this.each(function(){return r(e,this.className)?this.className=this.className.replace(e," "):(this.className+=" "+e,this.className=this.className.trim())})},e.fn.hasClass=function(e){return r(e,this[0].className)},e.fn.style=function(e,t){return t?this.each(function(){return this.style[e]=t}):this[0].style[e]||n(this[0],e)},e.fn.css=function(e,t){return this.style(e,t)},e.fn.vendor=function(e,n){var r,i,o,a;for(a=[],i=0,o=t.length;o>i;i++)r=t[i],a.push(this.style(""+r+e,n));return a},r=function(e,t){var n;return n=t.split(/\s+/g),n.indexOf(e)>=0},n=function(e,t){return document.defaultView.getComputedStyle(e,"")[t]}})(Quo)}.call(this);var Lungo=Lungo||{};Lungo.VERSION="2.0",Lungo.Element||(Lungo.Element={}),Lungo.Data||(Lungo.Data={}),Lungo.Sugar||(Lungo.Sugar={}),Lungo.View||(Lungo.View={}),Lungo.Boot||(Lungo.Boot={}),Lungo.Device||(Lungo.Device={}),Lungo.ready||(Lungo.ready=Quo().ready),Lungo.Attributes={count:{selector:"*",html:'<span class="tag theme count">{{value}}</span>'},pull:{selector:"section",html:'<div class="{{value}}" data-control="pull" data-icon="down" data-loading="black">                    <strong>title</strong>                </div>'},progress:{selector:"*",html:'<div class="progress">                    <span class="bar"><span class="value" style="width:{{value}};"></span></span>                </div>'},label:{selector:"*",html:"<abbr>{{value}}</abbr>"},icon:{selector:"*",html:'<span class="icon {{value}}"></span>'},image:{selector:"*",html:'<img src="{{value}}" class="icon" />'},title:{selector:"header",html:'<span class="title centered">{{value}}</span>'},loading:{selector:"*",html:'<div class="loading {{value}}">                    <span class="top"></span>                    <span class="right"></span>                    <span class="bottom"></span>                    <span class="left"></span>                </div>'},back:{selector:"header",html:'<nav class="left"><a href="#back" data-router="section" class="left"><span class="icon {{value}}"></span></a></nav>'}},Lungo.Constants={ELEMENT:{SECTION:"section",ARTICLE:"article",ASIDE:"aside",BODY:"body",DIV:"div",LIST:"<ul></ul>",LI:"li"},QUERY:{LIST_IN_ELEMENT:"article.list, aside.list",ELEMENT_SCROLLABLE:"aside.scroll, article.scroll"},CLASS:{ACTIVE:"active",ASIDE:"aside",SHOW:"show",HIDE:"hide",HIDING:"hiding",RIGHT:"right",LEFT:"left",HORIZONTAL:"horizontal",SMALL:"small"},TRIGGER:{LOAD:"load",UNLOAD:"unload"},TRANSITION:{DURATION:350},ATTRIBUTE:{ID:"id",HREF:"href",TITLE:"title",ARTICLE:"article",CLASS:"class",WIDTH:"width",HEIGHT:"height",PIXEL:"px",PERCENT:"%",ROUTER:"router",FIRST:"first",LAST:"last",EMPTY:""},BINDING:{START:"{{",END:"}}",KEY:"value",SELECTOR:"{{value}}"},ERROR:{DATABASE:"ERROR: Connecting to Data.Sql.",DATABASE_TRANSACTION:"ERROR: Data.Sql >> ",ROUTER:"ERROR: The target does not exists >>",LOADING_RESOURCE:"ERROR: Loading resource: "}},Lungo.Core=function(e,t){var n=Array.prototype,r="#",i=function(t,n){e.Core.isMobile()||console[1===t?"log":2===t?"warn":"error"](n)},o=function(){var e=l(arguments),t=e.shift();"function"===u(t)&&t.apply(null,e)},a=function(e,t){return function(){return t.apply(e,l(arguments))}},s=function(){for(var e=e||{},t=0,n=arguments.length;n>t;t++){var r=arguments[t];for(var i in r)c(r,i)&&(e[i]=r[i])}return e},c=function(e,n){return t.isOwnProperty(e,n)},u=function(e){return t.toType(e)},l=function(e){return n.slice.call(e,0)},f=function(){return t.isMobile()},d=function(){return t.environment()},h=function(e,t,n){var r="desc"===n?-1:1;return e.sort(function(e,n){return e[t]<n[t]?-r:e[t]>n[t]?r:0})},p=function(e){var t=e.lastIndexOf(r);return t>0?e=e.substring(t):-1===t&&(e=r+e),e},g=function(e,t,n){for(var r=null,i=0,o=e.length;o>i;i++){var a=e[i];if(a[t]==n){r=a;break}}return r};return{log:i,execute:o,bind:a,mix:s,isOwnProperty:c,toType:u,toArray:l,isMobile:f,environment:d,orderByProperty:h,parseUrl:p,findByProperty:g}}(Lungo,Quo),Lungo.dom=function(e){return $$(e)},Lungo.Events=function(e){var t=" ",n=function(n){for(event in n){var r=event.indexOf(t);if(r>0){var i=event.substring(0,r),o=event.substring(r+1);e.dom(o).on(i,n[event])}}};return{init:n}}(Lungo),Lungo.Fallback=function(e){var t=function(){env=e.Core.environment(),env.isMobile&&"Android"===env.os.name&&"3">env.os.version?e.dom(document.body).data("position","absolute"):e.dom(document.body).data("position","fixed")};return{fixPositionInAndroid:t}}(Lungo),Lungo.init=function(e){e&&e.resources&&Lungo.Resource.load(e.resources),Lungo.Boot.Events.init(),Lungo.Boot.Data.init(),Lungo.Boot.Layout.init()},Lungo.Notification=function(e,t){var n=[],r=null,i=null,o=1,a=200,s=(e.Constants.ATTRIBUTE,e.Constants.BINDING),c={BODY:"body",NOTIFICATION:".notification",MODAL:".notification .window",MODAL_HREF:".notification .window a",WINDOW_CLOSABLE:".notification [data-action=close], .notification > .error, .notification > .success",CONFIRM_BUTTONS:".notification .confirm a.button"},u={MODAL:"modal",VISIBLE:"visible",SHOW:"show",WORKING:"working",INPUT:"input"},l='<div class="notification"><div class="window"></div></div>',f=function(n,r,i,o){var a;if(n!==t)a=C(n,null,r);else{var c=e.Attributes.loading.html;a=c.replace(s.START+s.KEY+s.END,"icon white")}T(a,"growl"),y(i,o)},d=function(){i.removeClass("show"),setTimeout(function(){r.style("display","none").removeClass("html").removeClass("confirm").removeClass("notify").removeClass("growl")},a-50)},h=function(e){n=e;var t=C(e.title,e.description,e.icon);t+=R(e.accept,"accept"),t+=R(e.cancel,"cancel"),T(t,"confirm")},p=function(e,t,n,r,i){m(e,t,n,"success",r,i)},g=function(e,t,n,r,i){m(e,t,n,"error",r,i)},m=function(e,t,n,r,i,o){T(C(e,t,n),r),i&&y(i,o)},v=function(e,t){e+=t?'<a href="#" class="button large anchor" data-action="close">'+t+"</a>":"",T(e,"html")},E=function(){e.dom(c.BODY).append(l),r=e.dom(c.NOTIFICATION),i=r.children(".window"),S()},T=function(e,t){r.show(),i.removeClass(u.SHOW),i.removeClass("error").removeClass("success").removeClass("html").removeClass("growl"),i.addClass(t),i.html(e),setTimeout(function(){i.addClass(u.SHOW)},o)},y=function(e,n){if(e!==t&&0!==e){var r=1e3*e;setTimeout(function(){d(),n&&setTimeout(n,a)},r)}},C=function(e,t,n){return t=t?t:"&nbsp;",'<span class="icon '+n+'"></span><strong class="text bold">'+e+"</strong><small>"+t+"</small>"},R=function(e,t){return'<a href="#" data-callback="'+t+'" class="button anchor large text thin">'+e.label+"</a>"},S=function(){e.dom(c.CONFIRM_BUTTONS).tap(function(){var t=e.dom(this),r=n[t.data("callback")].callback;r&&r.call(r),d()}),e.dom(c.WINDOW_CLOSABLE).tap(d)};return E(),{show:f,hide:d,error:g,success:p,confirm:h,html:v}}(Lungo),Lungo.Resource=function(e,t){var n=e.Constants.ELEMENT,r=e.Constants.ERROR,i=function(t){if("array"===e.Core.toType(t))for(var n=0,r=t.length;r>n;n++)o(t[n]);else o(t)},o=function(t){try{var n=a(t);s(n)}catch(r){e.Core.log(3,r.message)}},a=function(e){return t.ajax({url:e,async:!1,dataType:"html",error:function(){console.error(r.LOADING_RESOURCE+e)}})},s=function(t){"string"===e.Core.toType(t)&&e.dom(n.BODY).append(t)};return{load:i}}(Lungo,Quo),function(e,t){var n,r=e.document,i=r.documentElement,o="scroll-enabled",a="ontouchmove"in r,s="WebkitOverflowScrolling"in i.style||!a&&e.screen.width>1200||function(){var t=e.navigator.userAgent,n=t.match(/AppleWebKit\/([0-9]+)/),r=n&&n[1],i=n&&r>=534;return t.match(/Android ([0-9]+)/)&&RegExp.$1>=3&&i||t.match(/ Version\/([0-9]+)/)&&RegExp.$1>=0&&e.blackberry&&i||t.indexOf(/PlayBook/)>-1&&RegExp.$1>=0&&i||t.match(/Fennec\/([0-9]+)/)&&RegExp.$1>=4||t.match(/wOSBrowser\/([0-9]+)/)&&RegExp.$1>=233&&i||t.match(/NokiaBrowser\/([0-9\.]+)/)&&7.3===parseFloat(RegExp.$1)&&n&&r>=533}(),c=function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},u=!1,l=function(r,i){var o,a,s=0,c=r.scrollLeft,u=r.scrollTop,l={top:"+0",left:"+0",duration:100,easing:e.overthrow.easing};if(i)for(var f in l)i[f]!==t&&(l[f]=i[f]);return"string"==typeof l.left?(l.left=parseFloat(l.left),o=l.left+c):(o=l.left,l.left=l.left-c),"string"==typeof l.top?(l.top=parseFloat(l.top),a=l.top+u):(a=l.top,l.top=l.top-u),n=setInterval(function(){s++<l.duration?(r.scrollLeft=l.easing(s,c,l.left,l.duration),r.scrollTop=l.easing(s,u,l.top,l.duration)):(o!==r.scrollLeft&&(r.scrollLeft=o),a!==r.scrollTop&&(r.scrollTop=a),d())},1),{top:a,left:o,duration:l.duration,easing:l.easing}},f=function(e,t){return!t&&e.className&&e.className.indexOf("scroll")>-1&&e||f(e.parentNode)},d=function(){clearInterval(n)},h=function(){if(!u&&(u=!0,(s||a)&&(i.className+=" "+o),e.overthrow.forget=function(){i.className=i.className.replace(o,""),r.removeEventListener&&r.removeEventListener("touchstart",S,!1),e.overthrow.easing=c,u=!1},!s&&a)){var n,h,p,g,m=[],v=[],E=function(){m=[],h=null},T=function(){v=[],p=null},y=function(){var e=8*(m[0]-m[m.length-1]),t=8*(v[0]-v[v.length-1]),r=Math.max(Math.abs(t),Math.abs(e))/8;e=(e>0?"+":"")+e,t=(t>0?"+":"")+t,!isNaN(r)&&r>0&&(Math.abs(t)>80||Math.abs(e)>80)&&l(n,{left:t,top:e,duration:r})},C=function(e){g=n.querySelectorAll("textarea, input");for(var t=0,r=g.length;r>t;t++)g[t].style.pointerEvents=e},R=function(e,i){if(r.createEvent){var o,a=(!i||i===t)&&n.parentNode||n.touchchild||n;a!==n&&(o=r.createEvent("HTMLEvents"),o.initEvent("touchend",!0,!0),n.dispatchEvent(o),a.touchchild=n,n=a,a.dispatchEvent(e))}},S=function(e){if(d(),E(),T(),n=f(e.target),n&&n!==i&&!(e.touches.length>1)){C("none");var t=e,r=n.scrollTop,o=n.scrollLeft,a=n.offsetHeight,s=n.offsetWidth,c=e.touches[0].pageY,u=e.touches[0].pageX,l=n.scrollHeight,g=n.scrollWidth,S=function(e){var i=r+c-e.touches[0].pageY,f=o+u-e.touches[0].pageX,d=i>=(m.length?m[0]:0),y=f>=(v.length?v[0]:0);i>0&&l-a>i||f>0&&g-s>f?e.preventDefault():R(t),h&&d!==h&&E(),p&&y!==p&&T(),h=d,p=y,n.scrollTop=i,n.scrollLeft=f,m.unshift(i),v.unshift(f),m.length>3&&m.pop(),v.length>3&&v.pop()},b=function(){y(),C("auto"),setTimeout(function(){C("none")},450),n.removeEventListener("touchmove",S,!1),n.removeEventListener("touchend",b,!1)};n.addEventListener("touchmove",S,!1),n.addEventListener("touchend",b,!1)}};r.addEventListener("touchstart",S,!1)}};e.overthrow={set:h,forget:function(){},easing:c,toss:l,intercept:d,closest:f,support:s?"native":a&&"polyfilled"||"none"},h()}(this),Lungo.Service=function(e,t){var n="lungojs_service_cache",r={MINUTE:"minute",HOUR:"hour",DAY:"day"},i=function(e,n,r,i){return t.get(e,n,r,i)},o=function(e,n,r,i){return t.post(e,n,r,i)},a=function(e,n,r){return t.json(e,n,r)},s=function(n,r,i,o,a){var s=n+t.serializeParameters(r);if(!c(s,i))return t.get(n,r,function(e){d(s,e),o.call(o,e)},a);var u=e.Data.Storage.persistent(s);return u?o.call(o,u):void 0},c=function(t,r){var i=!1,o=e.Data.Storage.persistent(n);if(o){var a=u(o[t]);i=l(a,r)}return i},u=function(e){var t=(new Date).getTime(),n=new Date(e).getTime();return t-n},l=function(e,t){var n=t.split(" "),r=f(n[1],e);return n[0]>r?!0:!1},f=function(e,t){var n=t/1e3/60;return e.indexOf(r.HOUR)>=0?n/=60:e.indexOf(r.DAY)>=0&&(n=n/60/24),n},d=function(t,r){var i=e.Data.Storage.persistent(n)||{};i[t]=new Date,e.Data.Storage.persistent(n,i),e.Data.Storage.persistent(t,r)};return{get:i,post:o,json:a,cache:s,Settings:t.ajaxSettings}}(Lungo,Quo),Lungo.Boot.Data=function(e){var t=e.Constants.BINDING,n=function(t){var n=e.dom(t||document.body);n.length>0&&r(n)},r=function(t){for(var n in e.Attributes)e.Core.isOwnProperty(e.Attributes,n)&&i(t,n)},i=function(t,n){attribute=e.Attributes[n];var r=attribute.selector+"[data-"+n+"]";t.find(r).each(function(t,r){var i=e.dom(r);o(i,i.data(n),attribute.html)})},o=function(e,n,r){var i=r.replace(t.START+t.KEY+t.END,n);e.prepend(i)};return{init:n}}(Lungo),Lungo.Boot.Events=function(e){var t=e.Constants.ATTRIBUTE,n=(e.Constants.CLASS,e.Constants.ELEMENT),r={HREF_ASIDE:"header a[href][data-router=aside]",HREF_TARGET:"a[href][data-router]",HREF_TARGET_FROM_ASIDE:"aside a[href][data-router]",INPUT_CHECKBOX:"input[type=range].checkbox"},i=function(){e.dom(r.HREF_TARGET_FROM_ASIDE).tap(a),e.dom(r.HREF_TARGET).tap(o),e.dom(r.INPUT_CHECKBOX).tap(s),e.View.Aside.suscribeEvents(e.dom(r.HREF_ASIDE))},o=function(t){t.preventDefault();var n=e.dom(this);n.data("async")?u(n):c(n)},a=function(t){t.preventDefault(),e.View.Aside.hide()},s=function(t){t.preventDefault();var n=e.dom(this),r=n.val()>0?0:1;n.toggleClass("active").attr("value",r)},c=function(e){var r=e.data(t.ROUTER);switch(r){case n.SECTION:var i=e.attr(t.HREF);l(i);break;case n.ARTICLE:f(e);break;case n.ASIDE:d(e)}},u=function(n){e.Notification.show(),e.Resource.load(n.data("async")),n[0].removeAttribute("data-async"),e.Boot.Data.init(n.attr(t.HREF)),setTimeout(function(){c(n),e.Notification.hide()},2*e.Constants.TRANSITION.DURATION)},l=function(t){t=e.Core.parseUrl(t),"#back"===t?e.Router.back():e.Router.section(t)},f=function(n){var r=e.Router.History.current(),i=n.attr(t.HREF);e.Router.article(r,i,n)},d=function(n){var r=e.Router.History.current(),i=n.attr(t.HREF);e.Router.aside(r,i)};return{init:i}}(Lungo),Lungo.Boot.Layout=function(e){var t=e.Constants.ELEMENT,n=e.Constants.CLASS,r=e.Constants.ATTRIBUTE,i=e.Constants.QUERY,o=function(){e.Fallback.fixPositionInAndroid(),a(),s(i.LIST_IN_ELEMENT,c),s(i.ELEMENT_SCROLLABLE,u)},a=function(){var i=e.dom(t.SECTION).first().addClass(n.SHOW);e.Element.Cache.section=i,e.Element.Cache.article=i.children(t.ARTICLE+"."+n.ACTIVE),e.View.Article.switchReferenceItems(e.Element.Cache.article.attr("id"),i);var o="#"+i.attr(r.ID);e.Router.History.add(o)},s=function(t,n){for(var r=e.dom(t),i=0,o=r.length;o>i;i++){var a=e.dom(r[i]);e.Core.execute(n,a)}},c=function(e){0===e.children().length&&(e.attr(r.ID),e.append(t.LIST))},u=function(e){e[0].addEventListener("touchstart",function(){scrollTop=this.scrollTop,1>=scrollTop&&(this.scrollTop=1),scrollTop+this.offsetHeight>=this.scrollHeight&&(this.scrollTop=this.scrollHeight-this.offsetHeight-1)},!1)};return{init:o}}(Lungo),Lungo.Data.Cache=function(e,t){var n={},r=function(t,r){n[t]=a(t)?e.Core.mix(i(t),r):r
},i=function(e){return 1===arguments.length?n[e]:n[arguments[0]]?n[arguments[0]][arguments[1]]:t},o=function(e){1===arguments.length?delete n[e]:delete n[arguments[0]][arguments[1]]},a=function(e){return n[e]?!0:!1};return{set:r,get:i,remove:o,exists:a}}(Lungo),Lungo.Data.Sql=function(e){var t=e.Constants.ERROR,n={name:"lungo_db",version:"1.0",size:65536,schema:[]},r=null,i=function(i){if(n=e.Core.mix(n,i),r=openDatabase(n.name,n.version,n.name,n.size),!r)throw Error(t.DATABASE);l()},o=function(e,t,n){var r=t?" WHERE "+p(t,"AND"):"";u("SELECT * FROM "+e+r,function(e){for(var t=[],r=0,i=e.rows.length;i>r;r++)t.push(e.rows.item(r));g(n,t)})},a=function(t,n){if("object"===e.Core.toType(n))m(t,n);else for(row in n)m(t,n[row])},s=function(e,t,n){var r="UPDATE "+e+" SET "+p(t,",");n&&(r+=" WHERE "+p(n,"AND")),u(r)},c=function(e,t){var n=t?" WHERE "+p(t,"AND"):"";u("DELETE FROM "+e+n+";")},u=function(t,n){e.Core.log(1,"lng.Data.Sql >> "+t),r.transaction(function(e){e.executeSql(t,[],function(e,t){g(n,t)},function(e){e.executedQuery=t,v.apply(null,arguments)})})},l=function(){var e=n.schema,t=e.length;if(t)for(var r=0;t>r;r++){var i=e[r];d(i),f(i.name,i.fields)}},f=function(t,n){var r="";for(var i in n)e.Core.isOwnProperty(n,i)&&(r&&(r+=", "),r+=i+" "+n[i]);u("CREATE TABLE IF NOT EXISTS "+t+" ("+r+");")},d=function(e){e.drop===!0&&h(e.name)},h=function(e){u("DROP TABLE IF EXISTS "+e)},p=function(t,n){var r="";for(var i in t)if(e.Core.isOwnProperty(t,i)){var o=t[i];r&&(r+=" "+n+" "),r+=i+"=",r+=isNaN(o)?'"'+o+'"':o}return r},g=function(t,n){"function"===e.Core.toType(t)&&setTimeout(t,100,n)},m=function(t,n){var r="",i="";for(var o in n)if(e.Core.isOwnProperty(n,o)){var a=n[o];r+=r?", "+o:o,i&&(i+=", "),i+=isNaN(a)||""==a?'"'+a+'"':a}u("INSERT INTO "+t+" ("+r+") VALUES ("+i+")")},v=function(e,n){throw Error(t.DATABASE_TRANSACTION+n.code+": "+n.message+" \n Executed query: "+e.executedQuery)};return{init:i,select:o,insert:a,update:s,drop:c,execute:u}}(Lungo),Lungo.Data.Storage=function(){var e={PERSISTENT:"localStorage",SESSION:"sessionStorage"},t=function(t,n){return r(e.PERSISTENT,t,n)},n=function(t,n){return r(e.SESSION,t,n)},r=function(e,t,n){var e=window[e];if(n)i(e,t,n);else{if(null!==n)return a(e,t);o(e,t)}},i=function(e,t,n){n=JSON.stringify(n),e.setItem(t,n)},o=function(e,t){e.removeItem(t)},a=function(e,t){return value=e.getItem(t),JSON.parse(value)};return{session:n,persistent:t}}(Lungo),Lungo.Element.Cache={section:null,article:null,aside:null,navigation:null},Lungo.Element.Carousel=function(e,t){var n={index:0,speed:300,callback:t,container:e,element:e.children[0],slide:void 0,slides:[],slides_length:0,width:0,start:{},isScrolling:void 0,deltaX:0},r=function(){n.index&&c(n.index-1,n.speed)},i=function(){n.index<n.slides_length-1?c(n.index+1,n.speed):c(0,n.speed)},o=function(){return n.index},a=function(){s()},s=function(){if(n.slides=n.element.children,n.slides_length=n.slides.length,2>n.slides_length)return null;if(n.width="getBoundingClientRect"in n.container?n.container.getBoundingClientRect().width:n.container.offsetWidth,!n.width)return null;n.element.style.width=n.slides.length*n.width+"px";for(var e=n.slides.length;e--;){var t=n.slides[e];t.style.width=n.width+"px",t.style.display="table-cell",t.style.verticalAlign="top"}c(n.index,0),n.container.style.visibility="visible"},c=function(e,t){var r=n.element.style;void 0==t&&(t=n.speed),r.webkitTransitionDuration=r.MozTransitionDuration=r.msTransitionDuration=r.OTransitionDuration=r.transitionDuration=t+"ms",r.MozTransform=r.webkitTransform="translate3d("+-(e*n.width)+"px,0,0)",r.msTransform=r.OTransform="translateX("+-(e*n.width)+"px)",n.index=e},u=function(){n.element.addEventListener("touchstart",l,!1),n.element.addEventListener("touchmove",f,!1),n.element.addEventListener("touchend",d,!1),n.element.addEventListener("webkitTransitionEnd",h,!1),n.element.addEventListener("msTransitionEnd",h,!1),n.element.addEventListener("oTransitionEnd",h,!1),n.element.addEventListener("transitionend",h,!1),window.addEventListener("resize",s,!1)},l=function(e){n.start={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:Number(new Date)},n.isScrolling=void 0,n.deltaX=0,n.element.style.MozTransitionDuration=n.element.style.webkitTransitionDuration=0,e.stopPropagation()},f=function(e){if(!(e.touches.length>1||e.scale&&1!==e.scale||(n.deltaX=e.touches[0].pageX-n.start.pageX,n.isScrolling===void 0&&(n.isScrolling=!!(n.isScrolling||Math.abs(n.deltaX)<Math.abs(e.touches[0].pageY-n.start.pageY))),n.isScrolling))){e.preventDefault();var t=!n.index&&n.deltaX>0||n.index==n.slides_length-1&&0>n.deltaX?Math.abs(n.deltaX)/n.width+1:1;n.deltaX=n.deltaX/t;var r=n.deltaX-n.index*n.width;n.element.style.MozTransform=n.element.style.webkitTransform="translate3d("+r+"px,0,0)",e.stopPropagation()}},d=function(e){var t=250>Number(new Date)-n.start.time&&Math.abs(n.deltaX)>20||Math.abs(n.deltaX)>n.width/2,r=!n.index&&n.deltaX>0||n.index==n.slides_length-1&&0>n.deltaX;n.isScrolling||c(n.index+(t&&!r?0>n.deltaX?1:-1:0),n.speed),e.stopPropagation()},h=function(){n.callback&&n.callback.apply(n.callback,[n.index,n.slides[n.index]])};return s(),u(),{prev:r,next:i,position:o,refresh:a}},Lungo.Element.Carousel=function(e,t){var n={gestureStarted:!1,index:0,speed:300,callback:t,container:e,element:e.children[0],slide:void 0,slides:[],slides_length:0,width:0,start:{},isScrolling:void 0,deltaX:0},r=function(){n.index&&c(n.index-1,n.speed)},i=function(){var e=n.index<n.slides_length-1?n.index+1:0;c(e,n.speed)},o=function(){return n.index},a=function(){s()},s=function(){if(n.slides=n.element.children,n.slides_length=n.slides.length,2>n.slides_length)return null;if(n.width="getBoundingClientRect"in n.container?n.container.getBoundingClientRect().width:n.container.offsetWidth,!n.width)return null;n.element.style.width=n.slides.length*n.width+"px";for(var e=n.slides.length;e--;){var t=n.slides[e];t.style.width=n.width+"px",t.style.display="table-cell",t.style.verticalAlign="top"}c(n.index,0),n.container.style.visibility="visible"},c=function(e,t){var r=n.element.style;void 0==t&&(t=n.speed),r.webkitTransitionDuration=r.MozTransitionDuration=r.msTransitionDuration=r.OTransitionDuration=r.transitionDuration=t+"ms",r.MozTransform=r.webkitTransform="translate3d("+-(e*n.width)+"px,0,0)",r.msTransform=r.OTransform="translateX("+-(e*n.width)+"px)",n.index=e},u=function(){$$(n.element).swiping(function(e){n.gestureStarted?_moveGesture(e):_startGesture(e)}),$$(n.element).swipe(l),$$(n.element).on("webkitTransitionEnd",f,!1),$$(n.element).on("msTransitionEnd",f,!1),$$(n.element).on("oTransitionEnd",f,!1),$$(n.element).on("transitionend",f,!1),$$(window).on("resize",s,!1)};_startGesture=function(e){n.start={pageX:e.currentTouch.x,pageY:e.currentTouch.y,time:Number(new Date)},n.isScrolling=void 0,n.deltaX=0,n.element.style.MozTransitionDuration=n.element.style.webkitTransitionDuration=0,"function"==typeof e.stopPropagation&&e.stopPropagation(),n.gestureStarted=!0},_moveGesture=function(e){if(n.deltaX=e.currentTouch.x-n.start.pageX,n.isScrolling===void 0&&(n.isScrolling=!!(n.isScrolling||Math.abs(n.deltaX)<Math.abs(e.currentTouch.y-n.start.pageY))),!n.isScrolling){e.preventDefault();var t=!n.index&&n.deltaX>0||n.index==n.slides_length-1&&0>n.deltaX?Math.abs(n.deltaX)/n.width+1:1;n.deltaX=n.deltaX/t;var r=n.deltaX-n.index*n.width;n.element.style.MozTransform=n.element.style.webkitTransform="translate3d("+r+"px,0,0)","function"==typeof e.stopPropagation&&e.stopPropagation()}};var l=function(){if(n.gestureStarted){var e=250>Number(new Date)-n.start.time&&Math.abs(n.deltaX)>20||Math.abs(n.deltaX)>n.width/2,t=!n.index&&n.deltaX>0||n.index==n.slides_length-1&&0>n.deltaX;n.isScrolling||c(n.index+(e&&!t?0>n.deltaX?1:-1:0),n.speed),"function"==typeof event.stopPropagation&&event.stopPropagation(),n.gestureStarted=!1}},f=function(){n.callback&&n.callback.apply(n.callback,[n.index,n.slides[n.index]])};return s(),u(),{prev:r,next:i,position:o,refresh:a}},Lungo.Element.count=function(e,t){var n=Lungo.dom(e);if(n.children(".bubble.count").remove(),n&&t){var r=Lungo.Constants.BINDING.SELECTOR;html=Lungo.Attributes.count.html.replace(r,t),n.append(html)}},Lungo.Element.loading=function(e,t){var n=Lungo.dom(e);if(n){var r=null;if(t){var i=Lungo.Constants.BINDING.SELECTOR;r=Lungo.Attributes.loading.html.replace(i,t)}n.html(r)}},Lungo.Element.progress=function(e,t){var n=Lungo.dom(e);n&&(t+=Lungo.Constants.ATTRIBUTE.PERCENT,n.find(".value").style(Lungo.Constants.ATTRIBUTE.WIDTH,t))},Lungo.Element.Pull=function(e,t){var n,r=60,i=80,o=300,a=0,s=!1,c=$$(e),u=c.siblings('div[data-control="pull"]'),l={onPull:"Pull down to refresh",onRelease:"Release to...",onRefresh:"Loading...",callback:void 0};n=Lungo.Core.mix(l,t);var f=function(){d(0,!0),setTimeout(function(){s=!1,document.removeEventListener("touchmove",v,!1)},o),a=0},d=function(e,t){var n=e>i?i:e;t&&c.addClass("pull"),c.style("-webkit-transform","translate(0, "+n+"px)"),t&&setTimeout(function(){c.removeClass("pull")},o)},h=function(){s=!0,document.addEventListener("touchmove",v,!1),p(n.onRefresh),g(!0),d(r,!0),n.callback&&n.callback.apply(this)},p=function(e){u.find("strong").html(e)},g=function(e){e?u.addClass("refresh"):u.removeClass("refresh")},m=function(e){e?u.addClass("rotate"):u.removeClass("rotate")},v=function(e){e.preventDefault()},E=function(){d(a,!1),g(!1),a>r?(p(n.onRelease),m(!0)):(p(n.onPull),m(!1))},T=function(){a>r?h():f()};return function(){var e=!1,t={};c.bind("touchstart",function(n){1>=c[0].scrollTop&&(e=!0,t=$$.isMobile()?n.touches[0].pageY:n.pageY)}).bind("touchmove",function(n){!s&&e&&(current_y=$$.isMobile()?n.touches[0].pageY:n.pageY,a=current_y-t,a>=0&&(c.style("overflow-y","hidden"),E()))}).bind("touchend",function(){e&&(c.style("overflow-y","scroll"),T()),INI_TOUCH={},e=!1})}(),{hide:f}},Lungo.Router=function(e){var t=e.Constants.CLASS,n=e.Constants.ELEMENT,r=(e.Constants.ERROR,e.Constants.TRIGGER),i=e.Constants.ATTRIBUTE,o="#",a=function(r){r=e.Core.parseUrl(r);var i=e.Element.Cache.section;if(l(r,i)){var o=i.siblings(n.SECTION+r);o.length>0&&(target_transition=o.data("transition"),target_transition&&(p(i),h(i,target_transition)),i.removeClass(t.SHOW).addClass(t.HIDE),o.removeClass(t.HIDE).addClass(t.SHOW),e.Element.Cache.section=o,e.Element.Cache.article=o.find(n.ARTICLE+"."+t.ACTIVE),e.Router.History.add(r),d(i,o))}},s=function(o,s,c){s=e.Core.parseUrl(s);var u=e.Element.Cache.article;if(l(s,u)){a(o);var d=e.Element.Cache.section.find(n.ARTICLE+s);d.length>0&&(f(u)!==f(d)&&(u=e.Element.Cache.section.children(n.ARTICLE)),u.removeClass(t.ACTIVE).trigger(r.UNLOAD),d.addClass(t.ACTIVE).trigger(r.LOAD),e.Element.Cache.article=d,e.View.Article.switchNavItems(s),e.View.Article.switchReferenceItems(s,e.Element.Cache.section),c&&e.View.Article.title(c.data(i.TITLE)))}},c=function(t,n){n=e.Core.parseUrl(n),e.View.Aside.toggle(n)},u=function(){var r=e.Element.Cache.section;r.removeClass(t.SHOW).addClass(t.HIDING),setTimeout(function(){r.removeClass(t.HIDING)},e.Constants.TRANSITION.DURATION),e.Router.History.removeLast(),target=r.siblings(n.SECTION+e.Router.History.current()),h(target,target.data("transition-origin")),target.removeClass(t.HIDE).addClass(t.SHOW),e.Element.Cache.section=target,e.Element.Cache.article=target.find(n.ARTICLE+"."+t.ACTIVE),d(r,target)},l=function(e,t){return e!==o+t.attr("id")?!0:!1},f=function(e){return e.parent("section").attr("id")},d=function(e,t){e.trigger(r.UNLOAD),t.trigger(r.LOAD)},h=function(e,t){e.data("transition",t)},p=function(e){e.data("transition-origin",e.data("transition"))};return{section:a,article:s,aside:c,back:u}}(Lungo),Lungo.Router.History=function(){var e=[],t=function(t){t!==n()&&e.push(t)},n=function(){return e[e.length-1]},r=function(){e.length-=1};return{add:t,current:n,removeLast:r}}(),Lungo.View.Article=function(e){var t=(e.Constants.ELEMENT,e.Constants.CLASS),n=(e.Constants.ATTRIBUTE,{NAVIGATION_ITEM:'a[href][data-router="article"]',REFERENCE_LINK:" a[href][data-article]",TITLE_OF_ARTICLE:"header .title, footer .title",ASIDE_REFERENCE_LIST:"li a.active, li.active"}),r=function(t){t&&e.Element.Cache.section.find(n.TITLE_OF_ARTICLE).text(t)},i=function(r){e.Element.Cache.section.find(n.NAVIGATION_ITEM).removeClass(t.ACTIVE);var i='a[href="'+r+'"][data-router="article"]';e.Element.Cache.section.find(i).addClass(t.ACTIVE),e.Element.Cache.aside&&(aside=e.Element.Cache.aside,aside.find(n.ASIDE_REFERENCE_LIST).removeClass(t.ACTIVE),aside.find(i).addClass(t.ACTIVE).parent().addClass(t.ACTIVE))},o=function(e,t){var r="[data-article="+e.replace("#","")+"]";t.find(n.REFERENCE_LINK).hide().siblings(r).show()};return{title:r,switchReferenceItems:o,switchNavItems:i}}(Lungo),Lungo.View.Aside=function(e){var t=e.Constants.ELEMENT,n=e.Constants.CLASS,r=e.Constants.ATTRIBUTE,i=function(t){if(aside=c(t)){var r=aside.hasClass(n.SHOW);r?e.View.Aside.hide():e.View.Aside.show(aside)}aside=null},o=function(t){if("string"==e.Core.toType(t)&&(t=c(e.Core.parseUrl(t))),t){e.Element.Cache.aside=t;var r=u(t);t.addClass(n.SHOW),e.Element.Cache.section.addClass(r).addClass(n.ASIDE)}t=null},a=function(t){var r=e.Element.Cache.aside||t;if(r){e.Element.Cache.section.removeClass(n.ASIDE).removeClass(n.RIGHT).removeClass(n.SMALL);var i=u(r);i&&e.Element.Cache.section.removeClass(i),setTimeout(function(){r.removeClass(n.SHOW),e.Element.Cache.aside=null},350)}},s=function(t){var r=parseInt(document.body.getBoundingClientRect().width/3,10);t.each(function(){var t=!1,i=e.dom(this),s=i.closest("section"),c=e.dom(i.attr("href"));s.swiping(function(e){if(!s.hasClass("aside")){var r=e.currentTouch.x-e.iniTouch.x,i=Math.abs(e.currentTouch.y-e.iniTouch.y);t=t?!0:r>3*i&&50>r,t?(r=r>256?256:0>r?0:r,c.addClass(n.SHOW),s.vendor("transform","translateX("+r+"px)"),s.vendor("transition-duration","0s")):s.attr("style","")}}),s.swipe(function(e){var n=e.currentTouch.x-e.iniTouch.x;Math.abs(e.currentTouch.y-e.iniTouch.y),s.attr("style",""),n>r&&t?o(c):a(c),t=!1})})},c=function(n){var r=null,i=e.dom(t.ASIDE);if(1==i.length){var o="#"+i[0].id;o==n&&(r=e.dom(i[0]))}else i.length>1&&(r=i.siblings(t.ASIDE+n));return r},u=function(e){var t=e.attr(r.CLASS),i="";return t&&(i+=t.indexOf(n.RIGHT)>-1?n.RIGHT+" ":"",i+=t.indexOf(n.SMALL)>-1?n.SMALL+" ":""),i};return{suscribeEvents:s,toggle:i,show:o,hide:a}}(Lungo);