(function(){var t;t=function(){var t,e,n;return e=[],t=function(e,r){var i;return e?"function"===t.toType(e)?t(document).ready(e):(i=t.getDOMObject(e,r),n(i,e)):n()},n=function(t,r){return t=t||e,t.__proto__=n.prototype,t.selector=r||"",t},t.extend=function(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){var n,r;r=[];for(n in e)r.push(t[n]=e[n]);return r}),t},n.prototype=t.fn={},t}(),window.Quo=t,"$$"in window||(window.$$=t)}).call(this),function(){(function(t){var e,n,r,i,o,a,s,u,c,l,f;return e={TYPE:"GET",MIME:"json"},r={script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},n=0,t.ajaxSettings={type:e.TYPE,async:!0,success:{},error:{},context:null,dataType:e.MIME,headers:{},xhr:function(){return new window.XMLHttpRequest},crossDomain:!1,timeout:0},t.ajax=function(n){var r,s,l,d;if(l=t.mix(t.ajaxSettings,n),l.type===e.TYPE?l.url+=t.serializeParameters(l.data,"?"):l.data=t.serializeParameters(l.data),i(l.url))return t.jsonp(l);d=l.xhr(),d.onreadystatechange=function(){return 4===d.readyState?(clearTimeout(r),c(d,l)):void 0},d.open(l.type,l.url,l.async),u(d,l),l.timeout>0&&(r=setTimeout(function(){return f(d,l)},l.timeout));try{d.send(l.data)}catch(h){s=h,d=s,a("Resource not found",d,l)}return l.async?d:o(d,l)},t.jsonp=function(e){var r,i,o,a;return e.async?(i="jsonp"+ ++n,o=document.createElement("script"),a={abort:function(){return t(o).remove(),i in window?window[i]={}:void 0}},r=void 0,window[i]=function(n){return clearTimeout(r),t(o).remove(),delete window[i],l(n,a,e)},o.src=e.url.replace(RegExp("=\\?"),"="+i),t("head").append(o),e.timeout>0&&(r=setTimeout(function(){return f(a,e)},e.timeout)),a):console.error("QuoJS.ajax: Unable to make jsonp synchronous call.")},t.get=function(e,n,r,i){return t.ajax({url:e,data:n,success:r,dataType:i})},t.post=function(t,e,n,r){return s("POST",t,e,n,r)},t.put=function(t,e,n,r){return s("PUT",t,e,n,r)},t["delete"]=function(t,e,n,r){return s("DELETE",t,e,n,r)},t.json=function(n,r,i){return t.ajax({url:n,data:r,success:i,dataType:e.MIME})},t.serializeParameters=function(t,e){var n,r;null==e&&(e=""),r=e;for(n in t)t.hasOwnProperty(n)&&(r!==e&&(r+="&"),r+=""+encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return r===e?"":r},c=function(t,e){t.status>=200&&300>t.status||0===t.status?e.async&&l(o(t,e),t,e):a("QuoJS.ajax: Unsuccesful request",t,e)},l=function(t,e,n){n.success.call(n.context,t,e)},a=function(t,e,n){n.error.call(n.context,t,e,n)},u=function(t,e){var n;e.contentType&&(e.headers["Content-Type"]=e.contentType),e.dataType&&(e.headers.Accept=r[e.dataType]);for(n in e.headers)t.setRequestHeader(n,e.headers[n])},f=function(t,e){t.onreadystatechange={},t.abort(),a("QuoJS.ajax: Timeout exceeded",t,e)},s=function(e,n,r,i,o){return t.ajax({type:e,url:n,data:r,success:i,dataType:o,contentType:"application/x-www-form-urlencoded"})},o=function(t,n){var r,i;if(i=t.responseText)if(n.dataType===e.MIME)try{i=JSON.parse(i)}catch(o){r=o,i=r,a("QuoJS.ajax: Parse Error",t,n)}else"xml"===n.dataType&&(i=t.responseXML);return i},i=function(t){return RegExp("=\\?").test(t)}})(Quo)}.call(this),function(){(function(t){var e,n,r,i,o,a,s,u;return e=[],i=Object.prototype,r=/^\s*<(\w+|!)[^>]*>/,o=document.createElement("table"),a=document.createElement("tr"),n={tr:document.createElement("tbody"),tbody:o,thead:o,tfoot:o,td:a,th:a,"*":document.createElement("div")},t.toType=function(t){return i.toString.call(t).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},t.isOwnProperty=function(t,e){return i.hasOwnProperty.call(t,e)},t.getDOMObject=function(e,n){var i,o,a;return i=null,o=[1,9,11],a=t.toType(e),"array"===a?i=s(e):"string"===a&&r.test(e)?(i=t.fragment(e.trim(),RegExp.$1),e=null):"string"===a?(i=t.query(document,e),n&&(i=1===i.length?t.query(i[0],n):t.map(function(){return t.query(i,n)}))):(o.indexOf(e.nodeType)>=0||e===window)&&(i=[e],e=null),i},t.map=function(e,n){var r,i,o,a;if(a=[],r=void 0,i=void 0,"array"===t.toType(e))for(r=0;e.length>r;)o=n(e[r],r),null!=o&&a.push(o),r++;else for(i in e)o=n(e[i],i),null!=o&&a.push(o);return u(a)},t.each=function(e,n){var r,i;if(r=void 0,i=void 0,"array"===t.toType(e))for(r=0;e.length>r;){if(n.call(e[r],r,e[r])===!1)return e;r++}else for(i in e)if(n.call(e[i],i,e[i])===!1)return e;return e},t.mix=function(){var e,n,r,i,o;for(r={},e=0,i=arguments.length;i>e;){n=arguments[e];for(o in n)t.isOwnProperty(n,o)&&void 0!==n[o]&&(r[o]=n[o]);e++}return r},t.fragment=function(e,r){var i;return null==r&&(r="*"),r in n||(r="*"),i=n[r],i.innerHTML=""+e,t.each(Array.prototype.slice.call(i.childNodes),function(){return i.removeChild(this)})},t.fn.map=function(e){return t.map(this,function(t,n){return e.call(t,n,t)})},t.fn.instance=function(t){return this.map(function(){return this[t]})},t.fn.filter=function(e){return t([].filter.call(this,function(n){return n.parentNode&&t.query(n.parentNode,e).indexOf(n)>=0}))},t.fn.forEach=e.forEach,t.fn.indexOf=e.indexOf,s=function(t){return t.filter(function(t){return void 0!==t&&null!==t})},u=function(t){return t.length>0?[].concat.apply([],t):t}})(Quo)}.call(this),function(){(function(t){return t.fn.attr=function(e,n){return 0===this.length,"string"===t.toType(e)&&void 0===n?this[0].getAttribute(e):this.each(function(){return this.setAttribute(e,n)})},t.fn.removeAttr=function(t){return this.each(function(){return this.removeAttribute(t)})},t.fn.data=function(t,e){return this.attr("data-"+t,e)},t.fn.removeData=function(t){return this.removeAttr("data-"+t)},t.fn.val=function(e){return"string"===t.toType(e)?this.each(function(){return this.value=e}):this.length>0?this[0].value:null},t.fn.show=function(){return this.style("display","block")},t.fn.hide=function(){return this.style("display","none")},t.fn.height=function(){var t;return t=this.offset(),t.height},t.fn.width=function(){var t;return t=this.offset(),t.width},t.fn.offset=function(){var t;return t=this[0].getBoundingClientRect(),{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width,height:t.height}},t.fn.remove=function(){return this.each(function(){return null!=this.parentNode?this.parentNode.removeChild(this):void 0})}})(Quo)}.call(this),function(){(function(t){var e,n,r,i,o,a,s;return r=null,e=/WebKit\/([\d.]+)/,n={Android:/(Android)\s+([\d.]+)/,ipad:/(iPad).*OS\s([\d_]+)/,iphone:/(iPhone\sOS)\s([\d_]+)/,Blackberry:/(BlackBerry|BB10|Playbook).*Version\/([\d.]+)/,FirefoxOS:/(Mozilla).*Mobile[^\/]*\/([\d\.]*)/,webOS:/(webOS|hpwOS)[\s\/]([\d.]+)/},t.isMobile=function(){return r=r||o(),r.isMobile&&"firefoxOS"!==r.os.name},t.environment=function(){return r=r||o()},t.isOnline=function(){return navigator.onLine},o=function(){var t,e;return e=navigator.userAgent,t={},t.browser=i(e),t.os=a(e),t.isMobile=!!t.os,t.screen=s(),t},i=function(t){var n;return n=t.match(e),n?n[0]:t},a=function(t){var e,r,i;e=null;for(r in n)if(i=t.match(n[r])){e={name:"iphone"===r||"ipad"===r?"ios":r,version:i[2].replace("_",".")};break}return e},s=function(){return{width:window.innerWidth,height:window.innerHeight}}})(Quo)}.call(this),function(){(function(t){var e,n,r,i,o,a,s,u,c,l,f,d;return e=1,i={},r={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},n={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",touch:"click",doubletap:"dblclick",orientationchange:"resize"},o=/complete|loaded|interactive/,t.fn.on=function(e,n,r){return"undefined"===n||"function"===t.toType(n)?this.bind(e,n):this.delegate(n,e,r)},t.fn.off=function(e,n,r){return"undefined"===n||"function"===t.toType(n)?this.unbind(e,n):this.undelegate(n,e,r)},t.fn.ready=function(e){return o.test(document.readyState)?e(t):t.fn.addEvent(document,"DOMContentLoaded",function(){return e(t)})},t.Event=function(t,e){var n,r;if(n=document.createEvent("Events"),n.initEvent(t,!0,!0,null,null,null,null,null,null,null,null,null,null,null,null),e)for(r in e)n[r]=e[r];return n},t.fn.bind=function(t,e){return this.each(function(){f(this,t,e)})},t.fn.unbind=function(t,e){return this.each(function(){d(this,t,e)})},t.fn.delegate=function(e,n,r){return this.each(function(i,o){f(o,n,r,e,function(n){return function(r){var i,s;return s=t(r.target).closest(e,o).get(0),s?(i=t.extend(a(r),{currentTarget:s,liveFired:o}),n.apply(s,[i].concat([].slice.call(arguments,1)))):void 0}})})},t.fn.undelegate=function(t,e,n){return this.each(function(){d(this,e,n,t)})},t.fn.trigger=function(e,n,r){return"string"===t.toType(e)&&(e=t.Event(e,n)),null!=r&&(e.originalEvent=r),this.each(function(){this.dispatchEvent(e)})},t.fn.addEvent=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},t.fn.removeEvent=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},f=function(e,n,r,o,a){var c,f,d,h;return n=u(n),d=l(e),f=i[d]||(i[d]=[]),c=a&&a(r,n),h={event:n,callback:r,selector:o,proxy:s(c,r,e),delegate:c,index:f.length},f.push(h),t.fn.addEvent(e,h.event,h.proxy)},d=function(e,n,r,o){var a;return n=u(n),a=l(e),c(a,n,r,o).forEach(function(n){return delete i[a][n.index],t.fn.removeEvent(e,n.event,n.proxy)})},l=function(t){return t._id||(t._id=e++)},u=function(e){var r;return r=t.isMobile()?e:n[e],r||e},s=function(t,e,n){var r;return e=t||e,r=function(t){var r;return r=e.apply(n,[t].concat(t.data)),r===!1&&t.preventDefault(),r}},c=function(t,e,n,r){return(i[t]||[]).filter(function(t){return!(!t||e&&t.event!==e||n&&t.callback!==n||r&&t.selector!==r)})},a=function(e){var n;return n=t.extend({originalEvent:e},e),t.each(r,function(t,r){return n[t]=function(){return this[r]=function(){return!0},e[t].apply(e,arguments)},n[r]=function(){return!1}}),n}})(Quo)}.call(this),function(){(function($$){var CURRENT_TOUCH,EVENT,FIRST_TOUCH,GESTURE,GESTURES,HOLD_DELAY,TAPS,TOUCH_TIMEOUT,_angle,_capturePinch,_captureRotation,_cleanGesture,_distance,_fingersPosition,_getTouches,_hold,_isSwipe,_listenTouches,_onTouchEnd,_onTouchMove,_onTouchStart,_parentIfText,_swipeDirection,_trigger;return TAPS=null,EVENT=void 0,GESTURE={},FIRST_TOUCH=[],CURRENT_TOUCH=[],TOUCH_TIMEOUT=void 0,HOLD_DELAY=650,GESTURES=["touch","tap","singleTap","doubleTap","hold","swipe","swiping","swipeLeft","swipeRight","swipeUp","swipeDown","rotate","rotating","rotateLeft","rotateRight","pinch","pinching","pinchIn","pinchOut","drag","dragLeft","dragRight","dragUp","dragDown"],GESTURES.forEach(function(t){return $$.fn[t]=function(e){var n;return n="touch"===t?"touchend":t,$$(document.body).delegate(this.selector,n,e)},this}),$$(document).ready(function(){return _listenTouches()}),_listenTouches=function(){var t;return t=$$(document.body),t.bind("touchstart",_onTouchStart),t.bind("touchmove",_onTouchMove),t.bind("touchend",_onTouchEnd),t.bind("touchcancel",_cleanGesture)},_onTouchStart=function(t){var e,n,r,i;return EVENT=t,r=Date.now(),e=r-(GESTURE.last||r),TOUCH_TIMEOUT&&clearTimeout(TOUCH_TIMEOUT),i=_getTouches(t),n=i.length,FIRST_TOUCH=_fingersPosition(i,n),GESTURE.el=$$(_parentIfText(i[0].target)),GESTURE.fingers=n,GESTURE.last=r,GESTURE.taps||(GESTURE.taps=0),GESTURE.taps++,1===n?(n>=1&&(GESTURE.gap=e>0&&250>=e),setTimeout(_hold,HOLD_DELAY)):2===n?(GESTURE.initial_angle=parseInt(_angle(FIRST_TOUCH),10),GESTURE.initial_distance=parseInt(_distance(FIRST_TOUCH),10),GESTURE.angle_difference=0,GESTURE.distance_difference=0):void 0},_onTouchMove=function(t){var e,n,r;return EVENT=t,GESTURE.el&&(r=_getTouches(t),e=r.length,e===GESTURE.fingers?(CURRENT_TOUCH=_fingersPosition(r,e),n=_isSwipe(t),n&&(GESTURE.prevSwipe=!0),(n||GESTURE.prevSwipe===!0)&&_trigger("swiping"),2===e&&(_captureRotation(),_capturePinch(),t.preventDefault())):_cleanGesture()),!0},_isSwipe=function(){var t,e,n;return t=!1,CURRENT_TOUCH[0]&&(e=Math.abs(FIRST_TOUCH[0].x-CURRENT_TOUCH[0].x)>30,n=Math.abs(FIRST_TOUCH[0].y-CURRENT_TOUCH[0].y)>30,t=GESTURE.el&&(e||n)),t},_onTouchEnd=function(t){var e,n,r,i,o;return EVENT=t,_trigger("touch"),1===GESTURE.fingers?2===GESTURE.taps&&GESTURE.gap?(_trigger("doubleTap"),_cleanGesture()):_isSwipe()||GESTURE.prevSwipe?(_trigger("swipe"),o=_swipeDirection(FIRST_TOUCH[0].x,CURRENT_TOUCH[0].x,FIRST_TOUCH[0].y,CURRENT_TOUCH[0].y),_trigger("swipe"+o),_cleanGesture()):(_trigger("tap"),1===GESTURE.taps&&(TOUCH_TIMEOUT=setTimeout(function(){return _trigger("singleTap"),_cleanGesture()},100))):(e=!1,0!==GESTURE.angle_difference&&(_trigger("rotate",{angle:GESTURE.angle_difference}),i=GESTURE.angle_difference>0?"rotateRight":"rotateLeft",_trigger(i,{angle:GESTURE.angle_difference}),e=!0),0!==GESTURE.distance_difference&&(_trigger("pinch",{angle:GESTURE.distance_difference}),r=GESTURE.distance_difference>0?"pinchOut":"pinchIn",_trigger(r,{distance:GESTURE.distance_difference}),e=!0),!e&&CURRENT_TOUCH[0]&&(Math.abs(FIRST_TOUCH[0].x-CURRENT_TOUCH[0].x)>10||Math.abs(FIRST_TOUCH[0].y-CURRENT_TOUCH[0].y)>10)&&(_trigger("drag"),n=_swipeDirection(FIRST_TOUCH[0].x,CURRENT_TOUCH[0].x,FIRST_TOUCH[0].y,CURRENT_TOUCH[0].y),_trigger("drag"+n)),_cleanGesture()),EVENT=void 0},_fingersPosition=function(t,e){var n,r;for(r=[],n=0,t=t[0].targetTouches?t[0].targetTouches:t;e>n;)r.push({x:t[n].pageX,y:t[n].pageY}),n++;return r},_captureRotation=function(){var angle,diff,i,symbol;if(angle=parseInt(_angle(CURRENT_TOUCH),10),diff=parseInt(GESTURE.initial_angle-angle,10),Math.abs(diff)>20||0!==GESTURE.angle_difference){for(i=0,symbol=0>GESTURE.angle_difference?"-":"+";Math.abs(diff-GESTURE.angle_difference)>90&&10>i++;)eval("diff "+symbol+"= 180;");return GESTURE.angle_difference=parseInt(diff,10),_trigger("rotating",{angle:GESTURE.angle_difference})}},_capturePinch=function(){var t,e;return e=parseInt(_distance(CURRENT_TOUCH),10),t=GESTURE.initial_distance-e,Math.abs(t)>10?(GESTURE.distance_difference=t,_trigger("pinching",{distance:t})):void 0},_trigger=function(t,e){return GESTURE.el?(e=e||{},CURRENT_TOUCH[0]&&(e.iniTouch=GESTURE.fingers>1?FIRST_TOUCH:FIRST_TOUCH[0],e.currentTouch=GESTURE.fingers>1?CURRENT_TOUCH:CURRENT_TOUCH[0]),GESTURE.el.trigger(t,e,EVENT)):void 0},_cleanGesture=function(){return FIRST_TOUCH=[],CURRENT_TOUCH=[],GESTURE={},clearTimeout(TOUCH_TIMEOUT)},_angle=function(t){var e,n,r;return e=t[0],n=t[1],r=Math.atan(-1*(n.y-e.y)/(n.x-e.x))*(180/Math.PI),0>r?r+180:r},_distance=function(t){var e,n;return e=t[0],n=t[1],-1*Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y))},_getTouches=function(t){return $$.isMobile()?t.touches:[t]},_parentIfText=function(t){return"tagName"in t?t:t.parentNode},_swipeDirection=function(t,e,n,r){var i,o;return i=Math.abs(t-e),o=Math.abs(n-r),i>=o?t-e>0?"Left":"Right":n-r>0?"Up":"Down"},_hold=function(){return GESTURE.last&&Date.now()-GESTURE.last>=HOLD_DELAY?(_trigger("hold"),GESTURE.taps=0):void 0}})(Quo)}.call(this),function(){(function(t){return t.fn.text=function(e){return e||"number"===t.toType(e)?this.each(function(){return this.textContent=e}):this[0].textContent},t.fn.html=function(e){var n;return n=t.toType(e),e||"number"===n||"string"===n?this.each(function(){var t,r,i,o;if("string"===n||"number"===n)return this.innerHTML=e;if(this.innerHTML=null,"array"===n){for(o=[],r=0,i=e.length;i>r;r++)t=e[r],o.push(this.appendChild(t));return o}return this.appendChild(e)}):this[0].innerHTML},t.fn.append=function(e){var n;return n=t.toType(e),this.each(function(){var t=this;return"string"===n?this.insertAdjacentHTML("beforeend",e):"array"===n?e.each(function(e,n){return t.appendChild(n)}):this.appendChild(e)})},t.fn.prepend=function(e){var n;return n=t.toType(e),this.each(function(){var t=this;return"string"===n?this.insertAdjacentHTML("afterbegin",e):"array"===n?e.each(function(e,n){return t.insertBefore(n,t.firstChild)}):this.insertBefore(e,this.firstChild)})},t.fn.replaceWith=function(e){var n;return n=t.toType(e),this.each(function(){var t=this;return this.parentNode?"string"===n?this.insertAdjacentHTML("beforeBegin",e):"array"===n?e.each(function(e,n){return t.parentNode.insertBefore(n,t)}):this.parentNode.insertBefore(e,this):void 0}),this.remove()},t.fn.empty=function(){return this.each(function(){return this.innerHTML=null})}})(Quo)}.call(this),function(){(function(t){var e,n,r,i,o,a;return r="parentNode",e=/^\.([\w-]+)$/,n=/^#[\w\d-]+$/,i=/^[\w-]+$/,t.query=function(t,r){var o;return r=r.trim(),e.test(r)?o=t.getElementsByClassName(r.replace(".","")):i.test(r)?o=t.getElementsByTagName(r):n.test(r)&&t===document?(o=t.getElementById(r.replace("#","")),o||(o=[])):o=t.querySelectorAll(r),o.nodeType?[o]:Array.prototype.slice.call(o)},t.fn.find=function(e){var n;return n=1===this.length?Quo.query(this[0],e):this.map(function(){return Quo.query(this,e)}),t(n)},t.fn.parent=function(t){var e;return e=t?a(this):this.instance(r),o(e,t)},t.fn.siblings=function(t){var e;return e=this.map(function(t,e){return Array.prototype.slice.call(e.parentNode.children).filter(function(t){return t!==e})}),o(e,t)},t.fn.children=function(t){var e;return e=this.map(function(){return Array.prototype.slice.call(this.children)}),o(e,t)},t.fn.get=function(t){return void 0===t?this:this[t]},t.fn.first=function(){return t(this[0])},t.fn.last=function(){return t(this[this.length-1])},t.fn.closest=function(e,n){var r,i;for(i=this[0],r=t(e),r.length||(i=null);i&&0>r.indexOf(i);)i=i!==n&&i!==document&&i.parentNode;return t(i)},t.fn.each=function(t){return this.forEach(function(e,n){return t.call(e,n,e)}),this},a=function(e){var n;for(n=[];e.length>0;)e=t.map(e,function(t){return(t=t.parentNode)&&t!==document&&0>n.indexOf(t)?(n.push(t),t):void 0});return n},o=function(e,n){return void 0===n?t(e):t(e).filter(n)}})(Quo)}.call(this),function(){(function(t){var e,n,r;return e=["-webkit-","-moz-","-ms-","-o-",""],t.fn.addClass=function(t){return this.each(function(){return r(t,this.className)?void 0:(this.className+=" "+t,this.className=this.className.trim())})},t.fn.removeClass=function(t){return this.each(function(){return t?r(t,this.className)?this.className=this.className.replace(t," ").replace(/\s+/g," ").trim():void 0:this.className=""})},t.fn.toggleClass=function(t){return this.each(function(){return r(t,this.className)?this.className=this.className.replace(t," "):(this.className+=" "+t,this.className=this.className.trim())})},t.fn.hasClass=function(t){return r(t,this[0].className)},t.fn.style=function(t,e){return e?this.each(function(){return this.style[t]=e}):this[0].style[t]||n(this[0],t)},t.fn.css=function(t,e){return this.style(t,e)},t.fn.vendor=function(t,n){var r,i,o,a;for(a=[],i=0,o=e.length;o>i;i++)r=e[i],a.push(this.style(""+r+t,n));return a},r=function(t,e){var n;return n=e.split(/\s+/g),n.indexOf(t)>=0},n=function(t,e){return document.defaultView.getComputedStyle(t,"")[e]}})(Quo)}.call(this);var Lungo=Lungo||{};Lungo.VERSION="2.0",Lungo.Element||(Lungo.Element={}),Lungo.Data||(Lungo.Data={}),Lungo.Sugar||(Lungo.Sugar={}),Lungo.View||(Lungo.View={}),Lungo.Boot||(Lungo.Boot={}),Lungo.Device||(Lungo.Device={}),Lungo.ready||(Lungo.ready=Quo().ready),Lungo.Attributes={count:{selector:"*",html:'<span class="tag theme count">{{value}}</span>'},pull:{selector:"section",html:'<div class="{{value}}" data-control="pull" data-icon="down" data-loading="black">                    <strong>title</strong>                </div>'},progress:{selector:"*",html:'<div class="progress">                    <span class="bar"><span class="value" style="width:{{value}};"></span></span>                </div>'},label:{selector:"*",html:"<abbr>{{value}}</abbr>"},icon:{selector:"*",html:'<span class="icon {{value}}"></span>'},image:{selector:"*",html:'<img src="{{value}}" class="icon" />'},title:{selector:"header",html:'<span class="title centered">{{value}}</span>'},loading:{selector:"*",html:'<div class="loading {{value}}">                    <span class="top"></span>                    <span class="right"></span>                    <span class="bottom"></span>                    <span class="left"></span>                </div>'},back:{selector:"header",html:'<nav class="left"><a href="#back" data-router="section" class="left"><span class="icon {{value}}"></span></a></nav>'}},Lungo.Constants={ELEMENT:{SECTION:"section",ARTICLE:"article",ASIDE:"aside",BODY:"body",DIV:"div",LIST:"<ul></ul>",LI:"li"},QUERY:{LIST_IN_ELEMENT:"article.list, aside.list",ELEMENT_SCROLLABLE:"aside.scroll, article.scroll"},CLASS:{ACTIVE:"active",ASIDE:"aside",SHOW:"show",HIDE:"hide",HIDING:"hiding",RIGHT:"right",LEFT:"left",HORIZONTAL:"horizontal",SMALL:"small"},TRIGGER:{LOAD:"load",UNLOAD:"unload"},TRANSITION:{DURATION:350},ATTRIBUTE:{ID:"id",HREF:"href",TITLE:"title",ARTICLE:"article",CLASS:"class",WIDTH:"width",HEIGHT:"height",PIXEL:"px",PERCENT:"%",ROUTER:"router",FIRST:"first",LAST:"last",EMPTY:""},BINDING:{START:"{{",END:"}}",KEY:"value",SELECTOR:"{{value}}"},ERROR:{DATABASE:"ERROR: Connecting to Data.Sql.",DATABASE_TRANSACTION:"ERROR: Data.Sql >> ",ROUTER:"ERROR: The target does not exists >>",LOADING_RESOURCE:"ERROR: Loading resource: "}},Lungo.Core=function(t,e){var n=Array.prototype,r="#",i=function(e,n){t.Core.isMobile()||console[1===e?"log":2===e?"warn":"error"](n)},o=function(){var t=l(arguments),e=t.shift();"function"===c(e)&&e.apply(null,t)},a=function(t,e){return function(){return e.apply(t,l(arguments))}},s=function(){for(var t=t||{},e=0,n=arguments.length;n>e;e++){var r=arguments[e];for(var i in r)u(r,i)&&(t[i]=r[i])}return t},u=function(t,n){return e.isOwnProperty(t,n)},c=function(t){return e.toType(t)},l=function(t){return n.slice.call(t,0)},f=function(){return e.isMobile()},d=function(){return e.environment()},h=function(t,e,n){var r="desc"===n?-1:1;return t.sort(function(t,n){return t[e]<n[e]?-r:t[e]>n[e]?r:0})},g=function(t){var e=t.lastIndexOf(r);return e>0?t=t.substring(e):-1===e&&(t=r+t),t},p=function(t,e,n){for(var r=null,i=0,o=t.length;o>i;i++){var a=t[i];if(a[e]==n){r=a;break}}return r};return{log:i,execute:o,bind:a,mix:s,isOwnProperty:u,toType:c,toArray:l,isMobile:f,environment:d,orderByProperty:h,parseUrl:g,findByProperty:p}}(Lungo,Quo),Lungo.dom=function(t){return $$(t)},Lungo.Events=function(t){var e=" ",n=function(n){for(event in n){var r=event.indexOf(e);if(r>0){var i=event.substring(0,r),o=event.substring(r+1);t.dom(o).on(i,n[event])}}};return{init:n}}(Lungo),Lungo.Fallback=function(t){var e=function(){env=t.Core.environment(),env.isMobile&&"Android"===env.os.name&&"3">env.os.version?t.dom(document.body).data("position","absolute"):t.dom(document.body).data("position","fixed")};return{fixPositionInAndroid:e}}(Lungo),Lungo.init=function(t){t&&t.resources&&Lungo.Resource.load(t.resources),Lungo.Boot.Events.init(),Lungo.Boot.Data.init(),Lungo.Boot.Layout.init()},Lungo.Notification=function(t,e){var n=[],r=null,i=null,o=1,a=200,s=(t.Constants.ATTRIBUTE,t.Constants.BINDING),u={BODY:"body",NOTIFICATION:".notification",MODAL:".notification .window",MODAL_HREF:".notification .window a",WINDOW_CLOSABLE:".notification [data-action=close], .notification > .error, .notification > .success",CONFIRM_BUTTONS:".notification .confirm a.button"},c={MODAL:"modal",VISIBLE:"visible",SHOW:"show",WORKING:"working",INPUT:"input"},l='<div class="notification"><div class="window"></div></div>',f=function(n,r,i,o){var a;if(n!==e)a=C(n,null,r);else{var u=t.Attributes.loading.html;a=u.replace(s.START+s.KEY+s.END,"icon white")}m(a,"growl"),R(i,o)},d=function(){i.removeClass("show"),setTimeout(function(){r.style("display","none").removeClass("html").removeClass("confirm").removeClass("notify").removeClass("growl")},a-50)},h=function(t){n=t;var e=C(t.title,t.description,t.icon);e+=S(t.accept,"accept"),e+=S(t.cancel,"cancel"),m(e,"confirm")},g=function(t,e,n,r,i){E(t,e,n,"success",r,i)},p=function(t,e,n,r,i){E(t,e,n,"error",r,i)},E=function(t,e,n,r,i,o){m(C(t,e,n),r),i&&R(i,o)},T=function(t,e){t+=e?'<a href="#" class="button large anchor" data-action="close">'+e+"</a>":"",m(t,"html")},v=function(){t.dom(u.BODY).append(l),r=t.dom(u.NOTIFICATION),i=r.children(".window"),y()},m=function(t,e){r.show(),i.removeClass(c.SHOW),i.removeClass("error").removeClass("success").removeClass("html").removeClass("growl"),i.addClass(e),i.html(t),setTimeout(function(){i.addClass(c.SHOW)},o)},R=function(t,n){if(t!==e&&0!==t){var r=1e3*t;setTimeout(function(){d(),n&&setTimeout(n,a)},r)}},C=function(t,e,n){return e=e?e:"&nbsp;",'<span class="icon '+n+'"></span><strong class="text bold">'+t+"</strong><small>"+e+"</small>"},S=function(t,e){return'<a href="#" data-callback="'+e+'" class="button anchor large text thin">'+t.label+"</a>"},y=function(){t.dom(u.CONFIRM_BUTTONS).tap(function(){var e=t.dom(this),r=n[e.data("callback")].callback;r&&r.call(r),d()}),t.dom(u.WINDOW_CLOSABLE).tap(d)};return v(),{show:f,hide:d,error:p,success:g,confirm:h,html:T}}(Lungo),Lungo.Resource=function(t,e){var n=t.Constants.ELEMENT,r=t.Constants.ERROR,i=function(e){if("array"===t.Core.toType(e))for(var n=0,r=e.length;r>n;n++)o(e[n]);else o(e)},o=function(e){try{var n=a(e);s(n)}catch(r){t.Core.log(3,r.message)}},a=function(t){return e.ajax({url:t,async:!1,dataType:"html",error:function(){console.error(r.LOADING_RESOURCE+t)}})},s=function(e){"string"===t.Core.toType(e)&&t.dom(n.BODY).append(e)};return{load:i}}(Lungo,Quo),function(t,e){var n,r=t.document,i=r.documentElement,o="scroll-enabled",a="ontouchmove"in r,s="WebkitOverflowScrolling"in i.style||!a&&t.screen.width>1200||function(){var e=t.navigator.userAgent,n=e.match(/AppleWebKit\/([0-9]+)/),r=n&&n[1],i=n&&r>=534;return e.match(/Android ([0-9]+)/)&&RegExp.$1>=3&&i||e.match(/ Version\/([0-9]+)/)&&RegExp.$1>=0&&t.blackberry&&i||e.indexOf(/PlayBook/)>-1&&RegExp.$1>=0&&i||e.match(/Fennec\/([0-9]+)/)&&RegExp.$1>=4||e.match(/wOSBrowser\/([0-9]+)/)&&RegExp.$1>=233&&i||e.match(/NokiaBrowser\/([0-9\.]+)/)&&7.3===parseFloat(RegExp.$1)&&n&&r>=533}(),u=function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},c=!1,l=function(r,i){var o,a,s=0,u=r.scrollLeft,c=r.scrollTop,l={top:"+0",left:"+0",duration:100,easing:t.overthrow.easing};if(i)for(var f in l)i[f]!==e&&(l[f]=i[f]);return"string"==typeof l.left?(l.left=parseFloat(l.left),o=l.left+u):(o=l.left,l.left=l.left-u),"string"==typeof l.top?(l.top=parseFloat(l.top),a=l.top+c):(a=l.top,l.top=l.top-c),n=setInterval(function(){s++<l.duration?(r.scrollLeft=l.easing(s,u,l.left,l.duration),r.scrollTop=l.easing(s,c,l.top,l.duration)):(o!==r.scrollLeft&&(r.scrollLeft=o),a!==r.scrollTop&&(r.scrollTop=a),d())},1),{top:a,left:o,duration:l.duration,easing:l.easing}},f=function(t,e){return!e&&t.className&&t.className.indexOf("scroll")>-1&&t||f(t.parentNode)},d=function(){clearInterval(n)},h=function(){if(!c&&(c=!0,(s||a)&&(i.className+=" "+o),t.overthrow.forget=function(){i.className=i.className.replace(o,""),r.removeEventListener&&r.removeEventListener("touchstart",y,!1),t.overthrow.easing=u,c=!1},!s&&a)){var n,h,g,p,E=[],T=[],v=function(){E=[],h=null},m=function(){T=[],g=null},R=function(){var t=8*(E[0]-E[E.length-1]),e=8*(T[0]-T[T.length-1]),r=Math.max(Math.abs(e),Math.abs(t))/8;t=(t>0?"+":"")+t,e=(e>0?"+":"")+e,!isNaN(r)&&r>0&&(Math.abs(e)>80||Math.abs(t)>80)&&l(n,{left:e,top:t,duration:r})},C=function(t){p=n.querySelectorAll("textarea, input");for(var e=0,r=p.length;r>e;e++)p[e].style.pointerEvents=t},S=function(t,i){if(r.createEvent){var o,a=(!i||i===e)&&n.parentNode||n.touchchild||n;a!==n&&(o=r.createEvent("HTMLEvents"),o.initEvent("touchend",!0,!0),n.dispatchEvent(o),a.touchchild=n,n=a,a.dispatchEvent(t))}},y=function(t){if(d(),v(),m(),n=f(t.target),n&&n!==i&&!(t.touches.length>1)){C("none");var e=t,r=n.scrollTop,o=n.scrollLeft,a=n.offsetHeight,s=n.offsetWidth,u=t.touches[0].pageY,c=t.touches[0].pageX,l=n.scrollHeight,p=n.scrollWidth,y=function(t){var i=r+u-t.touches[0].pageY,f=o+c-t.touches[0].pageX,d=i>=(E.length?E[0]:0),R=f>=(T.length?T[0]:0);i>0&&l-a>i||f>0&&p-s>f?t.preventDefault():S(e),h&&d!==h&&v(),g&&R!==g&&m(),h=d,g=R,n.scrollTop=i,n.scrollLeft=f,E.unshift(i),T.unshift(f),E.length>3&&E.pop(),T.length>3&&T.pop()},L=function(){R(),C("auto"),setTimeout(function(){C("none")},450),n.removeEventListener("touchmove",y,!1),n.removeEventListener("touchend",L,!1)};n.addEventListener("touchmove",y,!1),n.addEventListener("touchend",L,!1)}};r.addEventListener("touchstart",y,!1)}};t.overthrow={set:h,forget:function(){},easing:u,toss:l,intercept:d,closest:f,support:s?"native":a&&"polyfilled"||"none"},h()}(this),Lungo.Service=function(t,e){var n="lungojs_service_cache",r={MINUTE:"minute",HOUR:"hour",DAY:"day"},i=function(t,n,r,i){return e.get(t,n,r,i)},o=function(t,n,r,i){return e.post(t,n,r,i)},a=function(t,n,r){return e.json(t,n,r)},s=function(n,r,i,o,a){var s=n+e.serializeParameters(r);if(!u(s,i))return e.get(n,r,function(t){d(s,t),o.call(o,t)},a);var c=t.Data.Storage.persistent(s);return c?o.call(o,c):void 0},u=function(e,r){var i=!1,o=t.Data.Storage.persistent(n);if(o){var a=c(o[e]);i=l(a,r)}return i},c=function(t){var e=(new Date).getTime(),n=new Date(t).getTime();return e-n},l=function(t,e){var n=e.split(" "),r=f(n[1],t);return n[0]>r?!0:!1},f=function(t,e){var n=e/1e3/60;return t.indexOf(r.HOUR)>=0?n/=60:t.indexOf(r.DAY)>=0&&(n=n/60/24),n},d=function(e,r){var i=t.Data.Storage.persistent(n)||{};i[e]=new Date,t.Data.Storage.persistent(n,i),t.Data.Storage.persistent(e,r)};return{get:i,post:o,json:a,cache:s,Settings:e.ajaxSettings}}(Lungo,Quo),Lungo.Boot.Data=function(t){var e=t.Constants.BINDING,n=function(e){var n=t.dom(e||document.body);n.length>0&&r(n)},r=function(e){for(var n in t.Attributes)t.Core.isOwnProperty(t.Attributes,n)&&i(e,n)},i=function(e,n){attribute=t.Attributes[n];var r=attribute.selector+"[data-"+n+"]";e.find(r).each(function(e,r){var i=t.dom(r);o(i,i.data(n),attribute.html)})},o=function(t,n,r){var i=r.replace(e.START+e.KEY+e.END,n);t.prepend(i)};return{init:n}}(Lungo),Lungo.Boot.Events=function(t){var e=t.Constants.ATTRIBUTE,n=(t.Constants.CLASS,t.Constants.ELEMENT),r={HREF_ASIDE:"header a[href][data-router=aside]",HREF_TARGET:"a[href][data-router]",HREF_TARGET_FROM_ASIDE:"aside a[href][data-router]",INPUT_CHECKBOX:"input[type=range].checkbox"},i=function(){t.dom(r.HREF_TARGET_FROM_ASIDE).tap(a),t.dom(r.HREF_TARGET).tap(o),t.dom(r.INPUT_CHECKBOX).tap(s),t.View.Aside.suscribeEvents(t.dom(r.HREF_ASIDE))},o=function(e){e.preventDefault();var n=t.dom(this);n.data("async")?c(n):u(n)},a=function(e){e.preventDefault(),t.View.Aside.hide()},s=function(e){e.preventDefault();var n=t.dom(this),r=n.val()>0?0:1;n.toggleClass("active").attr("value",r)},u=function(t){var r=t.data(e.ROUTER);switch(r){case n.SECTION:var i=t.attr(e.HREF);l(i);break;case n.ARTICLE:f(t);break;case n.ASIDE:d(t)}},c=function(n){t.Notification.show(),t.Resource.load(n.data("async")),n[0].removeAttribute("data-async"),t.Boot.Data.init(n.attr(e.HREF)),setTimeout(function(){u(n),t.Notification.hide()},2*t.Constants.TRANSITION.DURATION)},l=function(e){e=t.Core.parseUrl(e),"#back"===e?t.Router.back():t.Router.section(e)},f=function(n){var r=t.Router.History.current(),i=n.attr(e.HREF);t.Router.article(r,i,n)},d=function(n){var r=t.Router.History.current(),i=n.attr(e.HREF);t.Router.aside(r,i)};return{init:i}}(Lungo),Lungo.Boot.Layout=function(t){var e=t.Constants.ELEMENT,n=t.Constants.CLASS,r=t.Constants.ATTRIBUTE,i=t.Constants.QUERY,o=function(){t.Fallback.fixPositionInAndroid(),a(),s(i.LIST_IN_ELEMENT,u),s(i.ELEMENT_SCROLLABLE,c)},a=function(){var i=t.dom(e.SECTION).first().addClass(n.SHOW);t.Element.Cache.section=i,t.Element.Cache.article=i.children(e.ARTICLE+"."+n.ACTIVE),t.View.Article.switchReferenceItems(t.Element.Cache.article.attr("id"),i);var o="#"+i.attr(r.ID);t.Router.History.add(o)},s=function(e,n){for(var r=t.dom(e),i=0,o=r.length;o>i;i++){var a=t.dom(r[i]);t.Core.execute(n,a)}},u=function(t){0===t.children().length&&(t.attr(r.ID),t.append(e.LIST))},c=function(t){t[0].addEventListener("touchstart",function(){scrollTop=this.scrollTop,1>=scrollTop&&(this.scrollTop=1),scrollTop+this.offsetHeight>=this.scrollHeight&&(this.scrollTop=this.scrollHeight-this.offsetHeight-1)},!1)};return{init:o}}(Lungo),Lungo.Data.Cache=function(t,e){var n={},r=function(e,r){n[e]=a(e)?t.Core.mix(i(e),r):r
},i=function(t){return 1===arguments.length?n[t]:n[arguments[0]]?n[arguments[0]][arguments[1]]:e},o=function(t){1===arguments.length?delete n[t]:delete n[arguments[0]][arguments[1]]},a=function(t){return n[t]?!0:!1};return{set:r,get:i,remove:o,exists:a}}(Lungo),Lungo.Data.Sql=function(t){var e=t.Constants.ERROR,n={name:"lungo_db",version:"1.0",size:65536,schema:[]},r=null,i=function(i){if(n=t.Core.mix(n,i),r=openDatabase(n.name,n.version,n.name,n.size),!r)throw Error(e.DATABASE);l()},o=function(t,e,n){var r=e?" WHERE "+g(e,"AND"):"";c("SELECT * FROM "+t+r,function(t){for(var e=[],r=0,i=t.rows.length;i>r;r++)e.push(t.rows.item(r));p(n,e)})},a=function(e,n){if("object"===t.Core.toType(n))E(e,n);else for(row in n)E(e,n[row])},s=function(t,e,n){var r="UPDATE "+t+" SET "+g(e,",");n&&(r+=" WHERE "+g(n,"AND")),c(r)},u=function(t,e){var n=e?" WHERE "+g(e,"AND"):"";c("DELETE FROM "+t+n+";")},c=function(e,n){t.Core.log(1,"lng.Data.Sql >> "+e),r.transaction(function(t){t.executeSql(e,[],function(t,e){p(n,e)},function(t){t.executedQuery=e,T.apply(null,arguments)})})},l=function(){var t=n.schema,e=t.length;if(e)for(var r=0;e>r;r++){var i=t[r];d(i),f(i.name,i.fields)}},f=function(e,n){var r="";for(var i in n)t.Core.isOwnProperty(n,i)&&(r&&(r+=", "),r+=i+" "+n[i]);c("CREATE TABLE IF NOT EXISTS "+e+" ("+r+");")},d=function(t){t.drop===!0&&h(t.name)},h=function(t){c("DROP TABLE IF EXISTS "+t)},g=function(e,n){var r="";for(var i in e)if(t.Core.isOwnProperty(e,i)){var o=e[i];r&&(r+=" "+n+" "),r+=i+"=",r+=isNaN(o)?'"'+o+'"':o}return r},p=function(e,n){"function"===t.Core.toType(e)&&setTimeout(e,100,n)},E=function(e,n){var r="",i="";for(var o in n)if(t.Core.isOwnProperty(n,o)){var a=n[o];r+=r?", "+o:o,i&&(i+=", "),i+=isNaN(a)||""==a?'"'+a+'"':a}c("INSERT INTO "+e+" ("+r+") VALUES ("+i+")")},T=function(t,n){throw Error(e.DATABASE_TRANSACTION+n.code+": "+n.message+" \n Executed query: "+t.executedQuery)};return{init:i,select:o,insert:a,update:s,drop:u,execute:c}}(Lungo),Lungo.Data.Storage=function(){var t={PERSISTENT:"localStorage",SESSION:"sessionStorage"},e=function(e,n){return r(t.PERSISTENT,e,n)},n=function(e,n){return r(t.SESSION,e,n)},r=function(t,e,n){var t=window[t];if(n)i(t,e,n);else{if(null!==n)return a(t,e);o(t,e)}},i=function(t,e,n){n=JSON.stringify(n),t.setItem(e,n)},o=function(t,e){t.removeItem(e)},a=function(t,e){return value=t.getItem(e),JSON.parse(value)};return{session:n,persistent:e}}(Lungo),Lungo.Element.Cache={section:null,article:null,aside:null,navigation:null},Lungo.Element.Carousel=function(t,e){var n={index:0,speed:300,callback:e,container:t,element:t.children[0],slide:void 0,slides:[],slides_length:0,width:0,start:{},isScrolling:void 0,deltaX:0},r=function(){n.index&&u(n.index-1,n.speed)},i=function(){n.index<n.slides_length-1?u(n.index+1,n.speed):u(0,n.speed)},o=function(){return n.index},a=function(){s()},s=function(){if(n.slides=n.element.children,n.slides_length=n.slides.length,2>n.slides_length)return null;if(n.width="getBoundingClientRect"in n.container?n.container.getBoundingClientRect().width:n.container.offsetWidth,!n.width)return null;n.element.style.width=n.slides.length*n.width+"px";for(var t=n.slides.length;t--;){var e=n.slides[t];e.style.width=n.width+"px",e.style.display="table-cell",e.style.verticalAlign="top"}u(n.index,0),n.container.style.visibility="visible"},u=function(t,e){var r=n.element.style;void 0==e&&(e=n.speed),r.webkitTransitionDuration=r.MozTransitionDuration=r.msTransitionDuration=r.OTransitionDuration=r.transitionDuration=e+"ms",r.MozTransform=r.webkitTransform="translate3d("+-(t*n.width)+"px,0,0)",r.msTransform=r.OTransform="translateX("+-(t*n.width)+"px)",n.index=t},c=function(){n.element.addEventListener("touchstart",l,!1),n.element.addEventListener("touchmove",f,!1),n.element.addEventListener("touchend",d,!1),n.element.addEventListener("webkitTransitionEnd",h,!1),n.element.addEventListener("msTransitionEnd",h,!1),n.element.addEventListener("oTransitionEnd",h,!1),n.element.addEventListener("transitionend",h,!1),window.addEventListener("resize",s,!1)},l=function(t){n.start={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,time:Number(new Date)},n.isScrolling=void 0,n.deltaX=0,n.element.style.MozTransitionDuration=n.element.style.webkitTransitionDuration=0,t.stopPropagation()},f=function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale||(n.deltaX=t.touches[0].pageX-n.start.pageX,n.isScrolling===void 0&&(n.isScrolling=!!(n.isScrolling||Math.abs(n.deltaX)<Math.abs(t.touches[0].pageY-n.start.pageY))),n.isScrolling))){t.preventDefault();var e=!n.index&&n.deltaX>0||n.index==n.slides_length-1&&0>n.deltaX?Math.abs(n.deltaX)/n.width+1:1;n.deltaX=n.deltaX/e;var r=n.deltaX-n.index*n.width;n.element.style.MozTransform=n.element.style.webkitTransform="translate3d("+r+"px,0,0)",t.stopPropagation()}},d=function(t){var e=250>Number(new Date)-n.start.time&&Math.abs(n.deltaX)>20||Math.abs(n.deltaX)>n.width/2,r=!n.index&&n.deltaX>0||n.index==n.slides_length-1&&0>n.deltaX;n.isScrolling||u(n.index+(e&&!r?0>n.deltaX?1:-1:0),n.speed),t.stopPropagation()},h=function(){n.callback&&n.callback.apply(n.callback,[n.index,n.slides[n.index]])};return s(),c(),{prev:r,next:i,position:o,refresh:a}},Lungo.Element.Carousel=function(t,e){var n={gestureStarted:!1,index:0,speed:300,callback:e,container:t,element:t.children[0],slide:void 0,slides:[],slides_length:0,width:0,start:{},isScrolling:void 0,deltaX:0},r=function(){n.index&&u(n.index-1,n.speed)},i=function(){var t=n.index<n.slides_length-1?n.index+1:0;u(t,n.speed)},o=function(){return n.index},a=function(){s()},s=function(){if(n.slides=n.element.children,n.slides_length=n.slides.length,2>n.slides_length)return null;if(n.width="getBoundingClientRect"in n.container?n.container.getBoundingClientRect().width:n.container.offsetWidth,!n.width)return null;n.element.style.width=n.slides.length*n.width+"px";for(var t=n.slides.length;t--;){var e=n.slides[t];e.style.width=n.width+"px",e.style.display="table-cell",e.style.verticalAlign="top"}u(n.index,0),n.container.style.visibility="visible"},u=function(t,e){var r=n.element.style;void 0==e&&(e=n.speed),r.webkitTransitionDuration=r.MozTransitionDuration=r.msTransitionDuration=r.OTransitionDuration=r.transitionDuration=e+"ms",r.MozTransform=r.webkitTransform="translate3d("+-(t*n.width)+"px,0,0)",r.msTransform=r.OTransform="translateX("+-(t*n.width)+"px)",n.index=t},c=function(){$$(n.element).swiping(function(t){n.gestureStarted?_moveGesture(t):_startGesture(t)}),$$(n.element).swipe(l),$$(n.element).on("webkitTransitionEnd",f,!1),$$(n.element).on("msTransitionEnd",f,!1),$$(n.element).on("oTransitionEnd",f,!1),$$(n.element).on("transitionend",f,!1),$$(window).on("resize",s,!1)};_startGesture=function(t){n.start={pageX:t.currentTouch.x,pageY:t.currentTouch.y,time:Number(new Date)},n.isScrolling=void 0,n.deltaX=0,n.element.style.MozTransitionDuration=n.element.style.webkitTransitionDuration=0,"function"==typeof t.stopPropagation&&t.stopPropagation(),n.gestureStarted=!0},_moveGesture=function(t){if(n.deltaX=t.currentTouch.x-n.start.pageX,n.isScrolling===void 0&&(n.isScrolling=!!(n.isScrolling||Math.abs(n.deltaX)<Math.abs(t.currentTouch.y-n.start.pageY))),!n.isScrolling){t.preventDefault();var e=!n.index&&n.deltaX>0||n.index==n.slides_length-1&&0>n.deltaX?Math.abs(n.deltaX)/n.width+1:1;n.deltaX=n.deltaX/e;var r=n.deltaX-n.index*n.width;n.element.style.MozTransform=n.element.style.webkitTransform="translate3d("+r+"px,0,0)","function"==typeof t.stopPropagation&&t.stopPropagation()}};var l=function(){if(n.gestureStarted){var t=250>Number(new Date)-n.start.time&&Math.abs(n.deltaX)>20||Math.abs(n.deltaX)>n.width/2,e=!n.index&&n.deltaX>0||n.index==n.slides_length-1&&0>n.deltaX;n.isScrolling||u(n.index+(t&&!e?0>n.deltaX?1:-1:0),n.speed),"function"==typeof event.stopPropagation&&event.stopPropagation(),n.gestureStarted=!1}},f=function(){n.callback&&n.callback.apply(n.callback,[n.index,n.slides[n.index]])};return s(),c(),{prev:r,next:i,position:o,refresh:a}},Lungo.Element.count=function(t,e){var n=Lungo.dom(t);if(n.children(".bubble.count").remove(),n&&e){var r=Lungo.Constants.BINDING.SELECTOR;html=Lungo.Attributes.count.html.replace(r,e),n.append(html)}},Lungo.Element.loading=function(t,e){var n=Lungo.dom(t);if(n){var r=null;if(e){var i=Lungo.Constants.BINDING.SELECTOR;r=Lungo.Attributes.loading.html.replace(i,e)}n.html(r)}},Lungo.Element.progress=function(t,e){var n=Lungo.dom(t);n&&(e+=Lungo.Constants.ATTRIBUTE.PERCENT,n.find(".value").style(Lungo.Constants.ATTRIBUTE.WIDTH,e))},Lungo.Element.Pull=function(t,e){var n,r=60,i=80,o=300,a=0,s=!1,u=$$(t),c=u.siblings('div[data-control="pull"]'),l={onPull:"Pull down to refresh",onRelease:"Release to...",onRefresh:"Loading...",callback:void 0};n=Lungo.Core.mix(l,e);var f=function(){d(0,!0),setTimeout(function(){s=!1,document.removeEventListener("touchmove",T,!1)},o),a=0},d=function(t,e){var n=t>i?i:t;e&&u.addClass("pull"),u.style("-webkit-transform","translate(0, "+n+"px)"),e&&setTimeout(function(){u.removeClass("pull")},o)},h=function(){s=!0,document.addEventListener("touchmove",T,!1),g(n.onRefresh),p(!0),d(r,!0),n.callback&&n.callback.apply(this)},g=function(t){c.find("strong").html(t)},p=function(t){t?c.addClass("refresh"):c.removeClass("refresh")},E=function(t){t?c.addClass("rotate"):c.removeClass("rotate")},T=function(t){t.preventDefault()},v=function(){d(a,!1),p(!1),a>r?(g(n.onRelease),E(!0)):(g(n.onPull),E(!1))},m=function(){a>r?h():f()};return function(){var t=!1,e={};u.bind("touchstart",function(n){1>=u[0].scrollTop&&(t=!0,e=$$.isMobile()?n.touches[0].pageY:n.pageY)}).bind("touchmove",function(n){!s&&t&&(current_y=$$.isMobile()?n.touches[0].pageY:n.pageY,a=current_y-e,a>=0&&(u.style("overflow-y","hidden"),v()))}).bind("touchend",function(){t&&(u.style("overflow-y","scroll"),m()),INI_TOUCH={},t=!1})}(),{hide:f}},Lungo.Router=function(t){var e=t.Constants.CLASS,n=t.Constants.ELEMENT,r=(t.Constants.ERROR,t.Constants.TRIGGER),i=t.Constants.ATTRIBUTE,o="#",a=function(r){r=t.Core.parseUrl(r);var i=t.Element.Cache.section;if(l(r,i)){var o=i.siblings(n.SECTION+r);o.length>0&&(target_transition=o.data("transition"),target_transition&&(g(i),h(i,target_transition)),i.removeClass(e.SHOW).addClass(e.HIDE),o.removeClass(e.HIDE).addClass(e.SHOW),t.Element.Cache.section=o,t.Element.Cache.article=o.find(n.ARTICLE+"."+e.ACTIVE),t.Router.History.add(r),d(i,o))}},s=function(o,s,u){s=t.Core.parseUrl(s);var c=t.Element.Cache.article;if(l(s,c)){a(o);var d=t.Element.Cache.section.find(n.ARTICLE+s);d.length>0&&(f(c)!==f(d)&&(c=t.Element.Cache.section.children(n.ARTICLE)),c.removeClass(e.ACTIVE).trigger(r.UNLOAD),d.addClass(e.ACTIVE).trigger(r.LOAD),t.Element.Cache.article=d,t.View.Article.switchNavItems(s),t.View.Article.switchReferenceItems(s,t.Element.Cache.section),u&&t.View.Article.title(u.data(i.TITLE)))}},u=function(e,n){n=t.Core.parseUrl(n),t.View.Aside.toggle(n)},c=function(){var r=t.Element.Cache.section;r.removeClass(e.SHOW).addClass(e.HIDING),setTimeout(function(){r.removeClass(e.HIDING)},t.Constants.TRANSITION.DURATION),t.Router.History.removeLast(),target=r.siblings(n.SECTION+t.Router.History.current()),h(target,target.data("transition-origin")),target.removeClass(e.HIDE).addClass(e.SHOW),t.Element.Cache.section=target,t.Element.Cache.article=target.find(n.ARTICLE+"."+e.ACTIVE),d(r,target)},l=function(t,e){return t!==o+e.attr("id")?!0:!1},f=function(t){return t.parent("section").attr("id")},d=function(t,e){t.trigger(r.UNLOAD),e.trigger(r.LOAD)},h=function(t,e){t.data("transition",e)},g=function(t){t.data("transition-origin",t.data("transition"))};return{section:a,article:s,aside:u,back:c}}(Lungo),Lungo.Router.History=function(){var t=[],e=function(e){e!==n()&&t.push(e)},n=function(){return t[t.length-1]},r=function(){t.length-=1};return{add:e,current:n,removeLast:r}}(),Lungo.View.Article=function(t){var e=(t.Constants.ELEMENT,t.Constants.CLASS),n=(t.Constants.ATTRIBUTE,{NAVIGATION_ITEM:'a[href][data-router="article"]',REFERENCE_LINK:" a[href][data-article]",TITLE_OF_ARTICLE:"header .title, footer .title",ASIDE_REFERENCE_LIST:"li a.active, li.active"}),r=function(e){e&&t.Element.Cache.section.find(n.TITLE_OF_ARTICLE).text(e)},i=function(r){t.Element.Cache.section.find(n.NAVIGATION_ITEM).removeClass(e.ACTIVE);var i='a[href="'+r+'"][data-router="article"]';t.Element.Cache.section.find(i).addClass(e.ACTIVE),t.Element.Cache.aside&&(aside=t.Element.Cache.aside,aside.find(n.ASIDE_REFERENCE_LIST).removeClass(e.ACTIVE),aside.find(i).addClass(e.ACTIVE).parent().addClass(e.ACTIVE))},o=function(t,e){var r="[data-article="+t.replace("#","")+"]";e.find(n.REFERENCE_LINK).hide().siblings(r).show()};return{title:r,switchReferenceItems:o,switchNavItems:i}}(Lungo),Lungo.View.Aside=function(t){var e=t.Constants.ELEMENT,n=t.Constants.CLASS,r=t.Constants.ATTRIBUTE,i=function(e){if(aside=u(e)){var r=aside.hasClass(n.SHOW);r?t.View.Aside.hide():t.View.Aside.show(aside)}aside=null},o=function(e){if("string"==t.Core.toType(e)&&(e=u(t.Core.parseUrl(e))),e){t.Element.Cache.aside=e;var r=c(e);e.addClass(n.SHOW),t.Element.Cache.section.addClass(r).addClass(n.ASIDE)}e=null},a=function(e){var r=t.Element.Cache.aside||e;if(r){t.Element.Cache.section.removeClass(n.ASIDE).removeClass(n.RIGHT).removeClass(n.SMALL);var i=c(r);i&&t.Element.Cache.section.removeClass(i),setTimeout(function(){r.removeClass(n.SHOW),t.Element.Cache.aside=null},350)}},s=function(e){var r=parseInt(document.body.getBoundingClientRect().width/3,10);e.each(function(){var e=!1,i=t.dom(this),s=i.closest("section"),u=t.dom(i.attr("href"));s.swiping(function(t){if(!s.hasClass("aside")){var r=t.currentTouch.x-t.iniTouch.x,i=Math.abs(t.currentTouch.y-t.iniTouch.y);e=e?!0:r>3*i&&50>r,e?(r=r>256?256:0>r?0:r,u.addClass(n.SHOW),s.vendor("transform","translateX("+r+"px)"),s.vendor("transition-duration","0s")):s.attr("style","")}}),s.swipe(function(t){var n=t.currentTouch.x-t.iniTouch.x;Math.abs(t.currentTouch.y-t.iniTouch.y),s.attr("style",""),n>r&&e?o(u):a(u),e=!1})})},u=function(n){var r=null,i=t.dom(e.ASIDE);if(1==i.length){var o="#"+i[0].id;o==n&&(r=t.dom(i[0]))}else i.length>1&&(r=i.siblings(e.ASIDE+n));return r},c=function(t){var e=t.attr(r.CLASS),i="";return e&&(i+=e.indexOf(n.RIGHT)>-1?n.RIGHT+" ":"",i+=e.indexOf(n.SMALL)>-1?n.SMALL+" ":""),i};return{suscribeEvents:s,toggle:i,show:o,hide:a}}(Lungo);